"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[47136],{428041:(t,n,e)=>{e.d(n,{Z:()=>p});var r=e(744564),o=e(296602),i=e(741473),a=e(2590);function c(t,n,e,r,o,i,a){try{var c=t[i](a),l=c.value}catch(t){e(t);return}c.done?n(l):Promise.resolve(l).then(r,o)}function l(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){c(i,r,o,a,l,"next",t)}function l(t){c(i,r,o,a,l,"throw",t)}a(void 0)}))}}var u=function(t,n){var e,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){
case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=n.call(t,a)}catch(t){i=[6,t];r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},s=new o.Z("CloudSync"),f=function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t);this.message=n};function p(t,n){return d.apply(this,arguments)}function d(){d=l((function(t,n){var e,o,c,l=arguments;return u(this,(function(u){switch(u.label){case 0:e=l.length>2&&void 0!==l[2]?l[2]:null;r.Z.dispatch({type:"GAME_CLOUD_SYNC_START",applicationId:t,branchId:n});u.label=1;case 1:
u.trys.push([1,3,,4]);return[4,i.j(t,n,e)];case 2:if((o=u.sent()).type===a.QCD.CONFLICT){r.Z.dispatch({type:"GAME_CLOUD_SYNC_CONFLICT",applicationId:t,branchId:n,next:o.next,remote:o.remote});throw new f("Conflict in cloud sync.")}o.type!==a.QCD.PULL&&o.type!==a.QCD.PUSH||s.info("Sync complete",o);return[3,4];case 3:if((c=u.sent())instanceof f)throw c;r.Z.dispatch({type:"GAME_CLOUD_SYNC_ERROR",applicationId:t,branchId:n});s.error("Failed to cloud sync:",c);throw new Error("Failed to cloud sync.");case 4:r.Z.dispatch({type:"GAME_CLOUD_SYNC_COMPLETE",applicationId:t,branchId:n});return[2,o]}}))}));return d.apply(this,arguments)}},534540:(t,n,e)=>{e.d(n,{Z:()=>_});var r=e(202351),o=e(744564),i=e(428041),a=e(761814),c=e(671723),l=e(954419),u=e(120415),s=e(741473),f=e(2590);function p(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function d(t){d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)}
;return d(t)}function h(t,n){return!n||"object"!==C(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function y(t,n){y=Object.setPrototypeOf||function(t,n){t.__proto__=n;return t};return y(t,n)}var b,v,O,C=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function(){var e,r=d(t);if(n){var o=d(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return h(this,e)}}var w=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function")
;t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}});n&&y(t,n)}(e,t);var n=m(e);function e(){p(this,e);return n.apply(this,arguments)}var r=e.prototype;r.initialize=function(){u.FB&&s.S();b={};v=new Set;O=[]};r.getState=function(t,n){var e=(0,l.Tu)(t,n);return b[e]};r.isSyncing=function(t,n){var e=(0,l.Tu)(t,n);return v.has(e)};r.__getLocalVars=function(){return{syncStates:b,syncingComboIds:v,lastSeenDiscordApplicationIds:O}};return e}(r.ZP.Store);w.displayName="CloudSyncStore";const _=new w(o.Z,{GAME_CLOUD_SYNC_START:function(t){var n=t.applicationId,e=t.branchId,r=(0,l.Tu)(n,e);v.add(r)},GAME_CLOUD_SYNC_UPDATE:function(t){var n=t.state,e=!0,r=!1,o=void 0;try{for(var i,a=Object.keys(n)[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var c=i.value;b[c]=n[c]}}catch(t){r=!0;o=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw o}}},GAME_CLOUD_SYNC_COMPLETE:function(t){var n=t.applicationId,e=t.branchId,r=(0,l.Tu)(n,e);v.delete(r)
;b[r]={type:f.TzF.DONE,timestamp:Date.now()};return!0},GAME_CLOUD_SYNC_CONFLICT:function(t){var n=t.applicationId,e=t.branchId,r=t.next,o=t.remote,i=(0,l.Tu)(n,e);b[i]={type:f.TzF.CONFLICT,next:r,remote:o};v.delete(i)},GAME_CLOUD_SYNC_ERROR:function(t){var n=t.applicationId,e=t.branchId,r=(0,l.Tu)(n,e);b[r]={type:f.TzF.ERROR};v.delete(r)},RUNNING_GAMES_CHANGE:function(){var t=c.ZP.getRunningDiscordApplicationIds(),n=O.filter((function(n){return!t.includes(n)})),e=!0,r=!1,l=void 0;try{for(var u,s=function(){var t=u.value,n=a.Z.getActiveLibraryApplication(t);if(null==n)return"continue";o.Z.wait((function(){try{i.Z(n.id,n.branchId)}catch(t){}}))},f=n[Symbol.iterator]();!(e=(u=f.next()).done);e=!0)s()}catch(t){r=!0;l=t}finally{try{e||null==f.return||f.return()}finally{if(r)throw l}}O=t;return!1}})},741473:(t,n,e)=>{e.d(n,{S:()=>C,j:()=>w});var r=e(281110),o=e(744564),i=e(296602),a=e(584251),c=e(736818),l=e(713094),u=e(954419),s=e(120415),f=e(310126),p=e(2590);function d(t,n,e,r,o,i,a){try{
var c=t[i](a),l=c.value}catch(t){e(t);return}c.done?n(l):Promise.resolve(l).then(r,o)}function h(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){d(i,r,o,a,c,"next",t)}function c(t){d(i,r,o,a,c,"throw",t)}a(void 0)}))}}var y,b=function(t,n){var e,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=n.call(t,a)}catch(t){i=[6,t];r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};function v(){if(null==y)throw new Error("Initialize cloud sync module before syncing.");return y}function O(){return s.FB&&((0,s.id)()||(0,s.ED)())}function C(){return m.apply(this,arguments)}function m(){return(m=h((function(){var t;return b(this,(function(n){switch(n.label){case 0:if(null!=y)return[2];if(!O()){new i.Z("CloudSyncUtils").warn("CloudSync is not supported on this platform");return[2]}return[4,f.default.ensureModule("discord_cloudsync")];case 1:n.sent();t=f.default.getCloudSync();(y=new t).on("state",(function(t){return o.Z.dispatch({type:"GAME_CLOUD_SYNC_UPDATE",state:t})}));return[2]}}))
}))).apply(this,arguments)}function w(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!l.Z.supportsCloudSync(t,n))return Promise.resolve({type:p.QCD.NONE});var o,i=v(),s=l.Z.getState(t,n);if(null==s)throw new Error("No dispatch state for ".concat(t,":").concat(n));var f=null!==(o=s.storage)&&void 0!==o?o:{},d=(0,u.Tu)(t,n),h=c.default.getToken();if(null==h)throw new Error("Cannot use cloud sync when not authenticated.");var y=null!=s.installPath?(0,a.Z)(s.installPath):null;if(null==y)throw new Error("No install path for ".concat(t,":").concat(n));var b=c.default.getId(),O={forceHash:e,manifestPath:p.SRg.STORAGE_MANIFEST(y,b),roots:null!=f.roots?f.roots:[{id:p.SRg.ROOT_ID,paths:Object.keys(p.SRg.ROOT_PLATFORMS).map((function(t){return{platform:t,path:p.SRg.ROOT_STORAGE_PATH(y,b)}})),patterns:p.SRg.ROOT_PATTERN}],storage:{baseURL:"".concat(r.Z.getAPIBaseURL()).concat(p.ANM.APPLICATION_STORAGE(t,n)),token:h},replacements:{INSTALLDIR:p.SRg.INSTALL_DIR(y),USERID:b,
BRANCHID:n}};return i.sync(d,O)}},647136:(t,n,e)=>{e.r(n);e.d(n,{installApplication:()=>K,performDefaultLibraryApplicationAction:()=>V,playApplication:()=>R,repairApplication:()=>q,updateApplication:()=>X});var r=e(951442),o=e(785893),i=e(667294),a=e(730381),c=e.n(a),l=e(202351),u=e(707961),s=e(428041),f=e(875700),p=e(959207),d=e(534540),h=e(107364),y=e(652591),b=e(2590),v=e(473708),O=e(250466),C=e.n(O),m=e(518280),w=e.n(m);function _(t,n,e,r,o,i,a){try{var c=t[i](a),l=c.value}catch(t){e(t);return}c.done?n(l):Promise.resolve(l).then(r,o)}function S(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){_(i,r,o,a,c,"next",t)}function c(t){_(i,r,o,a,c,"throw",t)}a(void 0)}))}}function g(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function N(t,n,e){n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e;return t}function I(t){
I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)};return I(t)}function T(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))));r.forEach((function(n){N(t,n,e[n])}))}return t}function P(t,n){return!n||"object"!==L(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function E(t,n){E=Object.setPrototypeOf||function(t,n){t.__proto__=n;return t};return E(t,n)}var L=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function A(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function(){var e,r=I(t);if(n){var o=I(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return P(this,e)}}var j=function(t,n){var e,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}
if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=n.call(t,a)}catch(t){i=[6,t];r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},x=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}});n&&E(t,n)}(e,t);var n=A(e);function e(){g(this,e);var t;(t=n.apply(this,arguments)).onClose=function(){t.props.onClose()};t.handlePlay=function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=t.props,o=r.libraryApplication,i=r.analyticsParams;t.onClose();R(o.id,o,{analyticsParams:i,cloudSync:n,cloudSyncForceHash:e})};t.handleChooseDownload=function(){
var n=t.props.cloudSyncState;n.type===b.TzF.CONFLICT&&t.handlePlay(!0,n.remote.hash)};t.handleChooseUpload=function(){var n=t.props.cloudSyncState;n.type===b.TzF.CONFLICT&&t.handlePlay(!0,n.next.hash)};return t}var r=e.prototype;r.renderConflictButton=function(t,n,e,r){return(0,o.jsxs)(u.zxk,{className:C().conflictButton,innerClassName:C().conflictButtonInner,onClick:r,children:[(0,o.jsx)("div",{className:e}),(0,o.jsxs)("div",{className:C().buttonBody,children:[(0,o.jsx)("div",{className:C().conflictTitle,children:t}),(0,o.jsx)("div",{children:v.Z.Messages.CLOUD_SYNC_MODAL_CONFLICT_LAST_MODIFIED}),(0,o.jsx)("div",{className:C().timestamp,children:c()(n).calendar()})]})]})};r.renderError=function(){var t=this,n=this.props.application;return(0,o.jsxs)(i.Fragment,{children:[(0,o.jsxs)(u.hzk,{children:[(0,o.jsx)(h.Z,{justify:h.Z.Justify.CENTER,children:(0,o.jsx)("div",{className:C().errorArt})}),(0,o.jsx)("div",{className:C().description,
children:v.Z.Messages.CLOUD_SYNC_MODAL_ERROR_DESCRIPTION.format({applicationName:n.name})})]}),(0,o.jsx)(u.mzw,{children:(0,o.jsxs)(h.Z,{justify:h.Z.Justify.BETWEEN,children:[(0,o.jsx)(u.zxk,{className:C().linkButton,size:C().linkButtonSize,look:u.zxk.Looks.LINK,color:u.zxk.Colors.PRIMARY,onClick:this.onClose,children:v.Z.Messages.CANCEL}),(0,o.jsxs)(h.Z,{direction:h.Z.Direction.HORIZONTAL,justify:h.Z.Justify.END,children:[(0,o.jsx)(u.zxk,{look:u.zxk.Looks.LINK,color:u.zxk.Colors.PRIMARY,onClick:function(){return t.handlePlay()},className:C().retryButton,children:v.Z.Messages.RETRY}),(0,o.jsx)(u.zxk,{onClick:function(){return t.handlePlay(!1)},children:v.Z.Messages.GAME_ACTION_BUTTON_PLAY})]})]})})]})};r.renderConflict=function(){var t=this.props,n=t.application,e=t.cloudSyncState;if(e.type!==b.TzF.CONFLICT)throw new Error("Cannot render conflict for non conflict type");return(0,o.jsxs)(u.hzk,{className:w().marginBottom20,children:[(0,o.jsx)("div",{className:C().description,
children:v.Z.Messages.CLOUD_SYNC_MODAL_CONFLICT_DESCRIPTION.format({applicationName:n.name})}),this.renderConflictButton(v.Z.Messages.CLOUD_SYNC_MODAL_CONFLICT_CHOICE_DOWNLOAD,e.remote.timestamp,C().conflictDownloadArt,this.handleChooseDownload),(0,o.jsxs)(h.Z,{className:C().choiceWrapper,align:h.Z.Align.CENTER,children:[(0,o.jsx)("div",{className:C().choiceLine}),(0,o.jsx)("div",{className:C().choiceTitle,children:v.Z.Messages.CLOUD_SYNC_MODAL_OR}),(0,o.jsx)("div",{className:C().choiceLine})]}),this.renderConflictButton(v.Z.Messages.CLOUD_SYNC_MODAL_CONFLICT_CHOICE_UPLOAD,e.next.timestamp,C().conflictUploadArt,this.handleChooseUpload)]})};r.render=function(){var t=this.props,n=t.cloudSyncState,e=t.transitionState,r=n.type===b.TzF.CONFLICT?v.Z.Messages.CLOUD_SYNC_MODAL_CONFLICT_HEADER:v.Z.Messages.CLOUD_SYNC_MODAL_ERROR_HEADER;return(0,o.jsxs)(u.Y0X,{transitionState:e,className:C().modal,"aria-label":r,children:[(0,o.jsxs)(u.xBx,{separator:!1,children:[(0,o.jsx)(u.olH,{
className:C().closeButton,onClick:this.onClose}),(0,o.jsx)(u.vwX,{tag:"h2",className:w().marginReset,children:r})]}),n.type===b.TzF.CONFLICT?this.renderConflict():this.renderError()]})};return e}(i.PureComponent),D=l.ZP.connectStores([d.Z,p.Z],(function(t){var n=t.libraryApplication,e=t.branchId;return{cloudSyncState:d.Z.getState(n.id,e),application:p.Z.getGame(n.id)}}))(x);function R(t,n,e){return Z.apply(this,arguments)}function Z(){return(Z=S((function(t,n,e){var r,i,a,c,l,d,h;return j(this,(function(v){switch(v.label){case 0:if(null==(r=p.Z.getGame(t)))return[2];i=e.cloudSync,a=void 0===i||i,c=e.cloudSyncForceHash,l=void 0===c?null:c,d=e.analyticsParams;if(!a||null==n)return[3,4];h=n.branchId;v.label=1;case 1:v.trys.push([1,3,,4]);return[4,s.Z(n.id,h,l)];case 2:v.sent();return[3,4];case 3:v.sent();(0,u.h7j)((function(t){return(0,o.jsx)(D,T({libraryApplication:n,analyticsParams:d,branchId:h},t))}));return[2];case 4:y.default.track(b.rMx.APPLICATION_OPENED,T({application_id:r.id,
application_name:r.name,type:b.q5t.LAUNCH,distributor:null!=n?n.getDistributor():null},d));return[2,f.Z.launch(r.id,null==n?void 0:n.branchId)]}}))}))).apply(this,arguments)}var k=e(430091),M=e(623663),U=e(713094),F=e(454708),G=e(64318),B=e(840974);function Y(t,n,e,r,o,i,a){try{var c=t[i](a),l=c.value}catch(t){e(t);return}c.done?n(l):Promise.resolve(l).then(r,o)}function z(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){Y(i,r,o,a,c,"next",t)}function c(t){Y(i,r,o,a,c,"throw",t)}a(void 0)}))}}function H(t,n,e){n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e;return t}function Q(t,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))
;e.push.apply(e,r)}return e}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}));return t}var J=function(t,n){var e,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}
if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=n.call(t,a)}catch(t){i=[6,t];r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};function W(t,n,i,a,c){var l=B.Z.getInstallationPath(t.id,n),s=null!=t.eulaId&&!G.Z.hasAcceptedEULA(t.eulaId);null==l||s?(0,u.ZDy)(z((function(){var r,i;return J(this,(function(a){switch(a.label){case 0:return[4,Promise.all([e.e(40532),e.e(17260),e.e(70606),e.e(79949)]).then(e.bind(e,179949))];case 1:r=a.sent(),i=r.default;return[2,function(e){return(0,o.jsx)(i,Q(function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))));r.forEach((function(n){H(t,n,e[n])}))}return t}({},e),{applicationId:t.id,branchId:n,analyticsLocation:c}))}]}}))}))):(0,r.LO)({application:t,
branchId:n,buildId:i,manifestIds:a,installationPath:l,analyticsLocation:c})}function K(t,n,e){var r=p.Z.getGame(t);if(null!=r){var o=k.Z.getTargetBuildId(r.id,n),i=k.Z.getTargetManifests(r.id,n);null!=o&&null!=i&&null!=W&&W(r,n,o,i,e)}}function X(t,n){var e=p.Z.getGame(t);if(null!=e)return r.li(e,n,k.Z.getTargetBuildId(e.id,n),k.Z.getTargetManifests(e.id,n))}function q(t,n,e){var o=p.Z.getGame(t);if(null!=o)return r.cG(o,n,e)}function V(t,n){var e=(0,M.i)(t,U.Z,F.Z),r=n.analyticsParams;switch(e){case b.apO.PLAY:return R(t.id,t,{analyticsParams:r});case b.apO.INSTALL:return K(t.id,t.branchId,r.source);case b.apO.UPDATE:return X(t.id,t.branchId)}}}}]);
//# sourceMappingURL=5e71613c4e582f210e94.js.map