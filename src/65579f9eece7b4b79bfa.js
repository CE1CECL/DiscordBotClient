"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[50029],{87127:(e,n,t)=>{t.d(n,{S1:()=>h,xv:()=>p,zc:()=>b,pW:()=>v,wk:()=>y,zz:()=>m,ZP:()=>g});var r=t(281110),i=t(744564),a=t(10390),o=t(671293),u=t(61209),l=t(735885),c=t(2590);function s(e,n,t,r,i,a,o){try{var u=e[a](o),l=u.value}catch(e){t(e);return}u.done?n(l):Promise.resolve(l).then(r,i)}function d(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){s(a,r,i,o,u,"next",e)}function u(e){s(a,r,i,o,u,"throw",e)}o(void 0)}))}}var f=function(e,n){var t,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),
0):r.next)&&!(i=i.call(r,a[1])).done)return i;(r=0,i)&&(a=[2&a[0],i.value]);switch(a[0]){case 0:case 1:i=a;break;case 4:o.label++;return{value:a[1],done:!1};case 5:o.label++;r=a[1];a=[0];continue;case 7:a=o.ops.pop();o.trys.pop();continue;default:if(!(i=o.trys,i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1];i=a;break}if(i&&o.label<i[2]){o.label=i[2];o.ops.push(a);break}i[2]&&o.ops.pop();o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e];r=0}finally{t=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};function h(e,n,t){i.Z.dispatch({type:"CHANNEL_SETTINGS_INIT",channelId:e,location:n,subsection:t})}function p(){i.Z.dispatch({type:"CHANNEL_SETTINGS_CLOSE"})}function b(e){i.Z.dispatch({type:"CHANNEL_SETTINGS_SET_SECTION",section:e})}function v(e){
var n=e.name,t=e.type,r=e.topic,a=e.bitrate,o=e.userLimit,u=e.nsfw,l=e.flags,c=e.rateLimitPerUser,s=e.defaultThreadRateLimitPerUser,d=e.defaultAutoArchiveDuration,f=e.template,h=e.defaultReactionEmoji,p=e.rtcRegion,b=e.videoQualityMode,v=e.autoArchiveDuration,y=e.locked,_=e.invitable,m=e.availableTags,g=e.defaultSortOrder,E=e.defaultForumLayout;i.Z.dispatch({type:"CHANNEL_SETTINGS_UPDATE",name:n,channelType:t,topic:r,bitrate:a,userLimit:o,nsfw:u,flags:l,rateLimitPerUser:c,defaultThreadRateLimitPerUser:s,defaultAutoArchiveDuration:d,template:f,defaultReactionEmoji:h,rtcRegion:p,videoQualityMode:b,autoArchiveDuration:v,locked:y,invitable:_,availableTags:m,defaultSortOrder:g,defaultForumLayout:E})}function y(e,n){return _.apply(this,arguments)}function _(){return(_=d((function(e,n){var t,l,s,d,h,p,b,v,y,_,m,g,E,T,Z,O,N,S,w,C,P,A,I;return f(this,(function(f){switch(f.label){case 0:t=n.name,l=n.type,s=n.position,d=n.topic,h=n.bitrate,p=n.userLimit,b=n.nsfw,v=n.flags,
y=n.permissionOverwrites,_=n.rateLimitPerUser,m=n.defaultThreadRateLimitPerUser,g=n.defaultAutoArchiveDuration,E=n.template,T=n.defaultReactionEmoji,Z=n.rtcRegion,O=n.videoQualityMode,N=n.autoArchiveDuration,S=n.locked,w=n.invitable,C=n.availableTags,P=n.defaultSortOrder,A=n.defaultForumLayout;I=u.Z.getChannel(e);i.Z.dispatch({type:"CHANNEL_SETTINGS_SUBMIT"});return[4,o.Z.unarchiveThreadIfNecessary(e)];case 1:f.sent();return[2,r.Z.patch({url:c.ANM.CHANNEL(e),body:{name:t,type:l,position:s,topic:d,bitrate:h,user_limit:p,nsfw:b,flags:v,permission_overwrites:y,rate_limit_per_user:_,default_thread_rate_limit_per_user:m,default_auto_archive_duration:g,template:E,rtc_region:Z,video_quality_mode:O,auto_archive_duration:N,locked:S,invitable:w,default_reaction_emoji:null!=T?{emoji_id:null==T?void 0:T.emojiId,emoji_name:null==T?void 0:T.emojiName}:void 0,available_tags:null==C?void 0:C.map((function(e){return{id:e.id,name:e.name,emoji_id:e.emojiId,emoji_name:e.emojiName,moderated:e.moderated}
})),default_sort_order:P,default_forum_layout:A},oldFormErrors:!0}).then((function(n){i.Z.dispatch({type:"CHANNEL_SETTINGS_SUBMIT_SUCCESS",channelId:e});var t=null==I?void 0:I.getGuildId();null==t||(null==I?void 0:I.isThread())||a.Z.checkGuildTemplateDirty(t);return n}),(function(e){i.Z.dispatch({type:"CHANNEL_SETTINGS_SUBMIT_FAILURE",errors:e.body});return e}))]}}))}))).apply(this,arguments)}function m(e){var n=u.Z.getChannel(e);r.Z.delete({url:c.ANM.CHANNEL(e),oldFormErrors:!0}).then((function(){var e=null==n?void 0:n.getGuildId();null==e||(null==n?void 0:n.isThread())||a.Z.checkGuildTemplateDirty(e);p()}))}const g={init:h,open:function(e,n,t){h(e,n,t);(0,l.jN)(c.S9g.CHANNEL_SETTINGS)},close:p,setSection:b,selectPermissionOverwrite:function(e){i.Z.dispatch({type:"CHANNEL_SETTINGS_OVERWRITE_SELECT",overwriteId:e})},updateChannel:v,saveChannel:y,deleteChannel:m}},14096:(e,n,t)=>{t.d(n,{Z:()=>m});var r=t(785893),i=(t(667294),
t(707961)),a=t(842629),o=t(409125),u=t(784426),l=t(487685),c=t(671293),s=t(736818),d=t(715107),f=t(407561),h=t(728998),p=t(2590);function b(e,n,t,r,i,a,o){try{var u=e[a](o),l=u.value}catch(e){t(e);return}u.done?n(l):Promise.resolve(l).then(r,i)}function v(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){b(a,r,i,o,u,"next",e)}function u(e){b(a,r,i,o,u,"throw",e)}o(void 0)}))}}function y(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}var _=function(e,n){var t,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),
0):r.next)&&!(i=i.call(r,a[1])).done)return i;(r=0,i)&&(a=[2&a[0],i.value]);switch(a[0]){case 0:case 1:i=a;break;case 4:o.label++;return{value:a[1],done:!1};case 5:o.label++;r=a[1];a=[0];continue;case 7:a=o.ops.pop();o.trys.pop();continue;default:if(!(i=o.trys,i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1];i=a;break}if(i&&o.label<i[2]){o.label=i[2];o.ops.push(a);break}i[2]&&o.ops.pop();o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e];r=0}finally{t=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};const m={handleVoiceConnect:function(e){var n=e.channel,b=e.connected,m=e.needSubscriptionToAccess,g=e.locked,E=void 0!==g&&g,T=e.routeDirectlyToChannel,Z=void 0!==T&&T,O=e.bypassChangeModal;return v((function(){var e,g,T,N,S;return _(this,(function(w){switch(w.label){case 0:return n.isThread()?[4,c.Z.unarchiveThreadIfNecessary(n.id)]:[3,3];case 1:
w.sent();return l.Z.hasJoined(n.id)?[3,3]:[4,c.Z.joinThread(n,"Join Voice")];case 2:w.sent();w.label=3;case 3:e=o.Z.getRemoteSessionId();g=f.Z.getVoiceStateForSession(s.default.getId(),e);T=(null==g?void 0:g.channelId)===n.id;N=T||d.Z.getChannelId()===f.Z.getCurrentClientVoiceChannelId(n.guild_id);if(!O&&!E&&(0,h._)(n)){S=this;(0,i.ZDy)(v((function(){var e,i;return _(this,(function(a){switch(a.label){case 0:return[4,t.e(51562).then(t.bind(t,851562))];case 1:e=a.sent(),i=e.default;return[2,function(e){return(0,r.jsx)(i,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){y(e,n,t[n])}))}return e}({channel:n,onConfirm:function(){return S.handleVoiceConnect({channel:n,connected:b,needSubscriptionToAccess:m,routeDirectlyToChannel:Z,locked:E,
bypassChangeModal:!0})}},e))}]}}))})));return[2]}E||b||a.default.selectVoiceChannel(n.id);!__OVERLAY__&&(b||N||m||Z)&&function(e){var n=e.getGuildId();if(null==n)throw new Error("VoiceChannel, transitionTo: Channel does not have a guildId");(0,u.uL)(p.Z5c.CHANNEL(n,e.id))}(n);return[2]}}))})).apply(this)}}},281873:(e,n,t)=>{t.d(n,{Z:()=>l});var r=t(785893),i=(t(667294),t(707961)),a=t(671293),o=t(225386),u=t(473708);function l(e){var n,t=(0,o.C7)(e),l=(0,o.tc)(e);if(e.isArchivedThread()?l:t)return(null===(n=e.threadMetadata)||void 0===n?void 0:n.archived)?(0,r.jsx)(i.sNh,{id:"unarchive-thread",label:e.isForumPost()?u.Z.Messages.UNARCHIVE_FORUM_POST:u.Z.Messages.UNARCHIVE_THREAD,action:function(){return a.Z.unarchiveThread(e,!1)}}):(0,r.jsx)(i.sNh,{id:"archive-thread",label:e.isForumPost()?u.Z.Messages.ARCHIVE_FORUM_POST:u.Z.Messages.ARCHIVE_THREAD,action:function(){return a.Z.archiveThread(e,!1)}})}},576668:(e,n,t)=>{t.d(n,{Z:()=>m});var r=t(785893),i=(t(667294),
t(202351)),a=t(707961),o=t(87127),u=t(665472),l=t(572615),c=t(591684),s=t(736818),d=t(682776),f=t(2590),h=t(473708);function p(e,n,t,r,i,a,o){try{var u=e[a](o),l=u.value}catch(e){t(e);return}u.done?n(l):Promise.resolve(l).then(r,i)}function b(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){p(a,r,i,o,u,"next",e)}function u(e){p(a,r,i,o,u,"throw",e)}o(void 0)}))}}function v(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function y(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))
;return e}var _=function(e,n){var t,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;(r=0,i)&&(a=[2&a[0],i.value]);switch(a[0]){case 0:case 1:i=a;break;case 4:o.label++;return{value:a[1],done:!1};case 5:o.label++;r=a[1];a=[0];continue;case 7:a=o.ops.pop();o.trys.pop();continue;default:if(!(i=o.trys,i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1];i=a;break}if(i&&o.label<i[2]){o.label=i[2];o.ops.push(a);break}i[2]&&o.ops.pop();o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e];r=0
}finally{t=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};function m(e){var n,p=e.isForumPost(),m=(0,i.e7)([s.default],(function(){return e.isOwner(s.default.getId())}),[e]),g=(0,i.cj)([d.Z],(function(){return{canAccessChannel:d.Z.can(e.accessPermissions,e),canManageChannel:d.Z.can(e.isThread()?f.Plq.MANAGE_THREADS:f.Plq.MANAGE_CHANNELS,e)}}),[e]),E=g.canManageChannel,T=g.canAccessChannel,Z=(0,i.e7)([c.Z],(function(){return null!==(n=c.Z.getCount(e.id))&&void 0!==n?n:0}),[e.id]),O=(0,i.e7)([l.Z],(function(){return l.Z.getMessage(e.id)}),[e.id]).firstMessage,N=p&&(E||m&&Z<1),S=p&&m&&!E&&Z>0&&null!=O;if(!T)return null;if(!E&&!N&&!S)return null;return(0,r.jsx)(a.sNh,{id:"delete-channel",label:e.type===f.d4z.GUILD_CATEGORY?h.Z.Messages.DELETE_CATEGORY:e.isForumPost()?N?h.Z.Messages.DELETE_FORUM_POST:h.Z.Messages.DELETE_MESSAGE:e.isThread()?h.Z.Messages.DELETE_THREAD:h.Z.Messages.DELETE_CHANNEL,color:"danger",action:function(){return(0,a.ZDy)(b((function(){
var n,i;return _(this,(function(a){switch(a.label){case 0:return[4,Promise.all([t.e(40532),t.e(61953),t.e(3790),t.e(96810),t.e(43671),t.e(56054),t.e(38058)]).then(t.bind(t,656054))];case 1:n=a.sent(),i=n.default;return[2,function(n){return(0,r.jsx)(i,y(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){v(e,n,t[n])}))}return e}({},n),{onConfirm:function(){n.onClose();S?u.Z.deleteMessage(e.id,e.id):o.ZP.deleteChannel(e.id)},channel:e}))}]}}))})))}})}},721376:(e,n,t)=>{t.d(n,{Z:()=>Z});var r=t(785893),i=t(667294),a=t(349289),o=t(202351),u=t(707961),l=t(123398),c=t(910149),s=t(225386),d=t(940060),f=t(433932),h=t(567403),p=t(682776),b=t(2590),v=d.Z.combine(b.Plq.VIEW_CHANNEL,b.Plq.MANAGE_MESSAGES,b.Plq.READ_MESSAGE_HISTORY);var y=t(473708)
;function _(e,n,t,r,i,a,o){try{var u=e[a](o),l=u.value}catch(e){t(e);return}u.done?n(l):Promise.resolve(l).then(r,i)}function m(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){_(a,r,i,o,u,"next",e)}function u(e){_(a,r,i,o,u,"throw",e)}o(void 0)}))}}function g(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function E(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){g(e,n,t[n])}))}return e}var T=function(e,n){var t,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a
;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;(r=0,i)&&(a=[2&a[0],i.value]);switch(a[0]){case 0:case 1:i=a;break;case 4:o.label++;return{value:a[1],done:!1};case 5:o.label++;r=a[1];a=[0];continue;case 7:a=o.ops.pop();o.trys.pop();continue;default:if(!(i=o.trys,i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1];i=a;break}if(i&&o.label<i[2]){o.label=i[2];o.ops.push(a);break}i[2]&&o.ops.pop();o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e];r=0}finally{t=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};function Z(e,n){var d=e.guild_id,_=i.useMemo((function(){return{guildId:d,entity:e,entityType:a.w.FORUM_POST}}),[d,e]),g=(0,o.e7)([l.ZP],(function(){
return l.ZP.getIsItemFeatured(_)}),[_]),Z=(0,s.Xb)(e),O=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=e.getGuildId(),r=(0,o.e7)([p.Z],(function(){return p.Z.can(v,e)}),[e]),i=(0,o.e7)([h.Z],(function(){return h.Z.getGuild(t)}),[t]),a=(0,f.N2)(i,!1);return!(!r||null===t||!a||e.parentChannelThreadType!==b.d4z.GUILD_FORUM&&!n||!(0,c.fx)(e))}(e);return Z&&O?g?(0,r.jsx)(u.sNh,{id:"guild-feed-unfeature",label:y.Z.Messages.GUILD_FEED_UNFEATURE_FORUM_POST,action:function(){return(0,u.ZDy)(m((function(){var e;return T(this,(function(n){switch(n.label){case 0:return[4,Promise.all([t.e(40532),t.e(46738)]).then(t.bind(t,846738))];case 1:e=n.sent().UnfeatureItemConfirmationModal;return[2,function(n){return(0,r.jsx)(e,E({featureableItem:_,header:y.Z.Messages.GUILD_FEED_UNFEATURE_FORUM_POST_MODAL_HEADER,body:y.Z.Messages.GUILD_FEED_UNFEATURED_FORUM_POST_MODAL_BODY},n))}]}}))})))}}):(0,r.jsx)(u.sNh,{id:"guild-feed-feature",label:y.Z.Messages.GUILD_FEED_FEATURE_FORUM_POST,
children:(0,c.DE)().map((function(i){var a=i.value,o=i.timePeriod;return(0,r.jsx)(u.sNh,{id:"".concat(a),label:(0,c.Vm)(o),action:function(){return(0,u.ZDy)(m((function(){var i;return T(this,(function(u){switch(u.label){case 0:return[4,Promise.all([t.e(40532),t.e(46738)]).then(t.bind(t,846738))];case 1:i=u.sent().FeatureForumPostConfirmationModal;return[2,function(t){return(0,r.jsx)(i,E({thread:e,guildId:d,expiresSeconds:a,timePeriod:o,options:n},t))}]}}))})))}},a)}))}):null}},703654:(e,n,t)=>{t.d(n,{Z:()=>p});var r=t(785893),i=t(667294),a=t(496486),o=t.n(a),u=t(202351),l=t(707961),c=t(414306),s=t(225386),d=t(407561),f=t(14096),h=t(473708);function p(e){var n=(0,s.Y)(e),t=(0,u.e7)([d.Z],(function(){return d.Z.isInChannel(e.id)})),a=(0,u.e7)([d.Z],(function(){return!o().isEmpty(d.Z.getVoiceStatesForChannel(e.id))})),p=(0,c.Z)(e.id).needSubscriptionToAccess,b=i.useCallback((function(){f.Z.handleVoiceConnect({channel:e,connected:t,needSubscriptionToAccess:p,locked:!1})}),[e,t,p])
;return t||!n?null:(0,r.jsx)(l.sNh,{id:"join-thread-voice",label:a?h.Z.Messages.JOIN_CALL:h.Z.Messages.START_CALL,action:b})}},103314:(e,n,t)=>{t.d(n,{Z:()=>l});var r=t(785893),i=(t(667294),t(707961)),a=t(671293),o=t(225386),u=t(473708);function l(e){var n=(0,o.Xb)(e),t=e.isLockedThread();if(n)return t?(0,r.jsx)(i.sNh,{id:"unlock-thread",label:e.isForumPost()?u.Z.Messages.UNLOCK_FORUM_POST:u.Z.Messages.UNLOCK_THREAD,action:function(){return a.Z.unlockThread(e)}}):(0,r.jsx)(i.sNh,{id:"lock-thread",label:e.isForumPost()?u.Z.Messages.LOCK_FORUM_POST:u.Z.Messages.LOCK_THREAD,action:function(){return a.Z.lockThread(e)}})}},313031:(e,n,t)=>{t.d(n,{Z:()=>v});var r=t(785893),i=(t(667294),t(202351)),a=t(707961),o=t(52474),u=t(358969),l=t(671293),c=t(225386),s=t(61209),d=t(897196),f=t(473708);function h(e,n,t,r,i,a,o){try{var u=e[a](o),l=u.value}catch(e){t(e);return}u.done?n(l):Promise.resolve(l).then(r,i)}function p(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){
var a=e.apply(n,t);function o(e){h(a,r,i,o,u,"next",e)}function u(e){h(a,r,i,o,u,"throw",e)}o(void 0)}))}}var b=function(e,n){var t,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;(r=0,i)&&(a=[2&a[0],i.value]);switch(a[0]){case 0:case 1:i=a;break;case 4:o.label++;return{value:a[1],done:!1};case 5:o.label++;r=a[1];a=[0];continue;case 7:a=o.ops.pop();o.trys.pop();continue;default:if(!(i=o.trys,i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1];i=a;break}if(i&&o.label<i[2]){o.label=i[2]
;o.ops.push(a);break}i[2]&&o.ops.pop();o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e];r=0}finally{t=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};function v(e){var n=(0,i.e7)([s.Z],(function(){return s.Z.getChannel(e.parent_id)})),t=(0,c.Xb)(e),h=(0,u.kF)(e);return(null==n?void 0:n.isForumLikeChannel())&&t?e.hasFlag(d.zZ.PINNED)?(0,r.jsx)(a.sNh,{id:"unpin-thread",label:f.Z.Messages.UNPIN_POST,action:function(){return l.Z.unpin(e)}}):(0,r.jsx)(a.sNh,{id:"pin-thread",label:f.Z.Messages.PIN_POST,action:function(){null!=h?o.Z.show({title:f.Z.Messages.FORUM_PIN_CONFIRM_TITLE,body:f.Z.Messages.FORUM_PIN_CONFIRM_BODY,onConfirm:p((function(){return b(this,(function(n){switch(n.label){case 0:return[4,l.Z.unpin(h)];case 1:n.sent();l.Z.pin(e);return[2]}}))}))}):l.Z.pin(e)}}):null}},954814:(e,n,t)=>{t.d(n,{Z:()=>l});var r=t(785893),i=(t(667294),t(707961)),a=t(87127),o=t(225386),u=t(473708);function l(e){var n=(0,o.C7)(e),t=(0,o.$R)(e),l=(0,o.Gu)(e)
;return n&&t&&!l?__OVERLAY__?null:(0,r.jsx)(i.sNh,{id:"edit-thread",label:e.isForumPost()?u.Z.Messages.EDIT_FORUM_POST:u.Z.Messages.EDIT_THREAD,action:function(){(0,i.pTH)();a.ZP.open(e.id)}}):null}},839463:(e,n,t)=>{t.d(n,{Z:()=>_});var r=t(785893),i=(t(667294),t(202351)),a=t(707961),o=t(971402),u=t(77413),l=t(372518),c=t(358969),s=t(225386),d=t(61209),f=t(797815),h=t(508778),p=t(473708),b=t(738251),v=t.n(b);function y(e){var n=e.tag,t=n.name,a=n.emojiId,o=n.emojiName,l=(0,i.e7)([f.Z],(function(){return null!=a?f.Z.getUsableCustomEmojiById(a):null}));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Z,{className:v().emoji,emojiId:a,emojiName:o,animated:Boolean(null==l?void 0:l.animated)}),t]})}function _(e){var n,t=(0,i.e7)([d.Z],(function(){return d.Z.getChannel(e)}),[e]),u=(0,s.C7)(t),f=(0,i.Wu)([d.Z],(function(){var e;return null!==(n=null===(e=d.Z.getChannel(null==t?void 0:t.parent_id))||void 0===e?void 0:e.availableTags)&&void 0!==n?n:[]}),[null==t?void 0:t.parent_id]),b=(0,
c.eV)(t),v=b.length>=h.Cn,_=(0,s.$R)(t);if(null==t){(0,o.Zy)();return null}if(!u)return null;if(__OVERLAY__)return null;if(!t.isForumPost())return null;if(0===f.length)return null;if(!_)return null;var m=f.map((function(e){var n=b.includes(e);return(0,r.jsx)(a.S89,{id:e.id,label:(0,r.jsx)(y,{tag:e}),disabled:v&&!n,action:function(){return function(e){var n=new Set(b);if(n.has(e))n.delete(e);else{if(v)return;n.add(e)}var r=Array.from(n).map((function(e){return e.id}));l.Z.updateForumPostTags(t.id,r)}(e)},checked:n},e.id)}));return(0,r.jsx)(a.sNh,{id:"edit-tags",label:p.Z.Messages.FORUM_TAG_POST_EDIT,children:m})}},40111:(e,n,t)=>{t.d(n,{Z:()=>d});var r=t(785893),i=(t(667294),t(202351)),a=t(707961),o=t(487685),u=t(671293),l=t(665783),c=t(379364),s=t(473708);function d(e){var n=(0,l.B)(e);return(0,i.e7)([o.Z],(function(){return o.Z.hasJoined(e.id)}))?(0,r.jsx)(a.sNh,{id:"thread-notifications",label:s.Z.Messages.NOTIFICATION_SETTINGS,children:(0,c.zb)().map((function(t){
var i=t.setting,o=t.label;return(0,r.jsx)(a.k5B,{group:"thread-notifications",id:"".concat(i),label:o,action:function(){return u.Z.setNotificationSettings(e,{flags:i})},checked:i===n},i)}))}):(0,r.jsx)(a.sNh,{id:"notifications-disabled",label:s.Z.Messages.NOTIFICATION_SETTINGS,disabled:!0})}},579583:(e,n,t)=>{t.d(n,{Z:()=>c});var r=t(785893),i=(t(667294),t(707961)),a=t(671293),o=t(225386),u=t(2590),l=t(473708);function c(e){var n,t;if(!(0,o.Xb)(e)||e.type!==u.d4z.PRIVATE_THREAD)return null;var c=null===(t=null===(n=e.threadMetadata)||void 0===n?void 0:n.invitable)||void 0===t||t;return(0,r.jsx)(i.S89,{id:"toggle-thread-invitable",label:l.Z.Messages.THREAD_INVITABLE_TOGGLE_LABEL,checked:c,action:function(){return a.Z.setInvitable(e,!c)}})}},414306:(e,n,t)=>{t.d(n,{Z:()=>c});var r=t(202351),i=t(747820),a=t(61209),o=t(682776),u=t(2590),l={needSubscriptionToAccess:!1,isSubscriptionGated:!1};function c(e){return(0,r.cj)([a.Z,i.Z,o.Z],(function(){var n=a.Z.getChannel(e)
;return null!=n&&i.Z.isChannelGated(n.guild_id,n.id)?{isSubscriptionGated:!0,needSubscriptionToAccess:n.isGuildVocal()?!o.Z.can(u.Plq.CONNECT,n):!o.Z.can(u.Plq.VIEW_CHANNEL,n)}:l}),[e])}}}]);
//# sourceMappingURL=65579f9eece7b4b79bfa.js.map