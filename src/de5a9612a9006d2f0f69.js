(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[80068],{698242:(e,r,n)=>{e.exports=n.p+"f3767d455e70dcdd1c8a3102e42c6d34.svg"},634737:(e,r,n)=>{e.exports=n.p+"8d224aa39e763dff664f330fdadeda3e.svg"},680068:(e,r,n)=>{"use strict";n.d(r,{Z:()=>De});var t=n(785893),i=n(667294),o=n(294184),s=n.n(o),l=n(202351),a=n(707961),u=n(84441),c=n(579194),f=n(316878),d=n(848285),I=n(797815),m=n(27851),p=n(21372),O=n(567403),E=n(473903),h=n(107364),v=n(124251),b=n(776009),y=n(652591),g=n(775173),M=n(714305),j=n(976685),_=n(528497),x=n(886391),N=n(895657),R=n(770393),A=n(2590);function C(e){var r=e.guildId,n=(0,l.e7)([j.Z],(function(){return j.Z.get(r)})),t=null==n?void 0:n.guild;return(0,l.e7)([O.Z],(function(){var e,n=null===(e=O.Z.getGuild(r))||void 0===e?void 0:e.verificationLevel,i=null==t?void 0:t.verification_level;return(null!=n?n:i)===A.sFg.VERY_HIGH}),[r,t])}var T=n(218372),F=n(668844),w=n(473708),S=n(318658),P=n.n(S);function Z(e,r){(null==r||r>e.length)&&(r=e.length)
;for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function L(e,r,n,t,i,o,s){try{var l=e[o](s),a=l.value}catch(e){n(e);return}l.done?r(a):Promise.resolve(a).then(t,i)}function V(e,r,n){r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n;return e}function k(e,r){r=null!=r?r:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})));n.push.apply(n,t)}return n}(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}));return e}function B(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,i,o=[],s=!0,l=!1;try{for(n=n.call(e);!(s=(t=n.next()).done);s=!0){
o.push(t.value);if(r&&o.length===r)break}}catch(e){l=!0;i=e}finally{try{s||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return Z(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var D=function(e,r){var n,t,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,
t&&(i=2&o[0]?t.return:o[0]?t.throw||((i=t.return)&&i.call(t),0):t.next)&&!(i=i.call(t,o[1])).done)return i;(t=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:s.label++;return{value:o[1],done:!1};case 5:s.label++;t=o[1];o=[0];continue;case 7:o=s.ops.pop();s.trys.pop();continue;default:if(!(i=s.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1];i=o;break}if(i&&s.label<i[2]){s.label=i[2];s.ops.push(o);break}i[2]&&s.ops.pop();s.trys.pop();continue}o=r.call(e,s)}catch(e){o=[6,e];t=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function U(){var e=B(i.useState(!1),2),r=e[0],n=e[1],o=B(i.useState(!1),2),s=o[0],l=o[1],c=B(i.useState(!1),2),f=c[0],d=c[1];i.useEffect((function(){var e;s&&(e=setTimeout((function(){l(!1)}),2e3));return function(){null!=e&&clearTimeout(e)}}),[s]);var I,m,p=(m=(I=function(){
return D(this,(function(e){switch(e.label){case 0:if(r)return[2];n(!0);e.label=1;case 1:e.trys.push([1,3,4,5]);return[4,u.Z.verifyResend()];case 2:e.sent();l(!0);d(!0);return[3,5];case 3:e.sent();return[3,5];case 4:n(!1);return[7];case 5:return[2]}}))},function(){var e=this,r=arguments;return new Promise((function(n,t){var i=I.apply(e,r);function o(e){L(i,n,t,o,s,"next",e)}function s(e){L(i,n,t,o,s,"throw",e)}o(void 0)}))}),function(){return m.apply(this,arguments)});return s?(0,t.jsx)(a.xvT,{className:P().verifyConfirmText,variant:"text-sm/normal",color:"text-positive",children:w.Z.Messages.MEMBER_VERIFICATION_EMAIL_VERIFICATION_EMAIL_SENT}):(0,t.jsx)(a.zxk,{size:a.zxk.Sizes.SMALL,submitting:r,onClick:p,children:f?w.Z.Messages.RESEND_EMAIL_SHORT:w.Z.Messages.VERIFY})}function z(){return(0,t.jsx)(F.PU,{icon:T.Z,text:w.Z.Messages.MEMBER_VERIFICATION_FORM_ITEM_EMAIL_VERIFICATION_LABEL,footnote:w.Z.Messages.MEMBER_VERIFICATION_MODAL_PRIVACY_DESCRIPTION,meetsRequirement:!1,children:(0,
t.jsx)(a.ua7,{text:w.Z.Messages.MEMBER_VERIFICATION_VERIFICATION_FIELD_SETTINGS_TOOLTIP,children:function(e){return(0,t.jsx)(a.zxk,k(function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));t.forEach((function(r){V(e,r,n[r])}))}return e}({},e),{size:a.zxk.Sizes.SMALL,disabled:!0,children:w.Z.Messages.VERIFY}))}})})}function G(e){var r=e.isUserVerified,n=r?w.Z.Messages.MEMBER_VERIFICATION_EMAIL_VERIFIED:w.Z.Messages.MEMBER_VERIFICATION_FORM_ITEM_EMAIL_VERIFICATION_LABEL;return(0,t.jsx)(F.PU,{icon:T.Z,text:n,footnote:w.Z.Messages.MEMBER_VERIFICATION_MODAL_PRIVACY_DESCRIPTION,meetsRequirement:r,children:(0,t.jsx)(U,{})})}var H=n(448124),Y=n(434823),q=n(426797),J=n(410068),X=n(58118);function Q(e,r,n,t,i,o,s){try{var l=e[o](s),a=l.value}catch(e){n(e);return}
l.done?r(a):Promise.resolve(a).then(t,i)}function W(e){return function(){var r=this,n=arguments;return new Promise((function(t,i){var o=e.apply(r,n);function s(e){Q(o,t,i,s,l,"next",e)}function l(e){Q(o,t,i,s,l,"throw",e)}s(void 0)}))}}function $(e,r,n){r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n;return e}function K(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));t.forEach((function(r){$(e,r,n[r])}))}return e}function ee(e,r){r=null!=r?r:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable
})));n.push.apply(n,t)}return n}(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}));return e}var re=function(e,r){var n,t,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,t&&(i=2&o[0]?t.return:o[0]?t.throw||((i=t.return)&&i.call(t),0):t.next)&&!(i=i.call(t,o[1])).done)return i;(t=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:s.label++;return{value:o[1],done:!1};case 5:s.label++;t=o[1];o=[0];continue;case 7:o=s.ops.pop();s.trys.pop();continue;default:if(!(i=s.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1];i=o;break}
if(i&&s.label<i[2]){s.label=i[2];s.ops.push(o);break}i[2]&&s.ops.pop();s.trys.pop();continue}o=r.call(e,s)}catch(e){o=[6,e];t=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function ne(){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(F.PU,{icon:J.Z,text:w.Z.Messages.MEMBER_VERIFICATION_FORM_ITEM_PHONE_VERIFICATION_LABEL,footnote:w.Z.Messages.MEMBER_VERIFICATION_MODAL_PRIVACY_DESCRIPTION,meetsRequirement:!1,children:(0,t.jsx)(a.ua7,{text:w.Z.Messages.MEMBER_VERIFICATION_VERIFICATION_FIELD_SETTINGS_TOOLTIP,children:function(e){return(0,t.jsx)(a.zxk,ee(K({},e),{size:a.zxk.Sizes.SMALL,disabled:!0,children:w.Z.Messages.VERIFY}))}})})})}function te(e){var r=e.isUserVerified,i=r?w.Z.Messages.MEMBER_VERIFICATION_PHONE_VERIFIED:w.Z.Messages.MEMBER_VERIFICATION_FORM_ITEM_PHONE_VERIFICATION_LABEL;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(F.PU,{icon:J.Z,text:i,footnote:w.Z.Messages.MEMBER_VERIFICATION_MODAL_PRIVACY_DESCRIPTION,meetsRequirement:r,
children:(0,t.jsx)(a.zxk,{size:a.zxk.Sizes.SMALL,onClick:function(){(0,a.ZDy)(W((function(){var e,r;return re(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(11177),n.e(84237)]).then(n.bind(n,411177))];case 1:e=i.sent(),r=e.default;return[2,function(e){return(0,t.jsx)(r,K({reason:q.L.GUILD_PHONE_REQUIRED},e))}]}}))})),{modalKey:X.M})},children:w.Z.Messages.VERIFY})})})}var ie=n(388025),oe=n(880213);function se(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function le(e,r,n){r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n;return e}function ae(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));t.forEach((function(r){le(e,r,n[r])}))}return e}
function ue(e,r){r=null!=r?r:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})));n.push.apply(n,t)}return n}(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}));return e}function ce(e){return function(e){if(Array.isArray(e))return se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return se(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return se(e,r)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e){var r=e.guildId,n=e.formFields,i=e.updateFormFields,o=(0,l.e7)([O.Z],(function(){var e;return null===(e=O.Z.getGuild(r))||void 0===e?void 0:e.rulesChannelId})),s=function(e,r){var t=n[e];i(ce(n.slice(0,e)).concat([ue(ae({},t),{response:r})],ce(n.slice(e+1))))},a=function(e,r){switch(e.field_type){case x.QJ.TERMS:return(0,t.jsx)(ie.dd,{channelId:o,formField:e,onChange:function(e,t){return function(e,r){var t=n[e];i(ce(n.slice(0,e)).concat([ue(ae({},t),{response:r})],ce(n.slice(e+1))))}(r,t)}},r);case x.QJ.TEXT_INPUT:return(0,t.jsx)(oe.zY,{formField:e,onChange:function(e){return s(r,e)}},r);case x.QJ.PARAGRAPH:return(0,t.jsx)(Y.lX,{formField:e,onChange:function(e){return s(r,e)}},r);case x.QJ.MULTIPLE_CHOICE:return(0,t.jsx)(H.sp,{formField:e,onChange:function(e){return function(e,r){var t=r.value,o=n[e]
;i(ce(n.slice(0,e)).concat([ue(ae({},o),{response:t})],ce(n.slice(e+1))))}(r,e)}},r)}};return(0,t.jsx)(t.Fragment,{children:n.map((function(e,r){return a(e,r)}))})}function de(e){var r=e.guildId,n=e.formFields,i=e.updateFormFields,o=(0,l.e7)([E.default],(function(){return E.default.getCurrentUser()})),s=C({guildId:r})?ne:z;return null==o?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s,{}),(0,t.jsx)(fe,{guildId:r,formFields:n,updateFormFields:i})]})}function Ie(e){var r=e.guildId,n=e.formFields,o=e.updateFormFields,s=(0,l.e7)([E.default],(function(){return E.default.getCurrentUser()})),a=function(e){var r=e.guildId,n=(0,l.e7)([E.default],(function(){return E.default.getCurrentUser()})),t=C({guildId:r}),i=(null==n?void 0:n.isPhoneVerified())||(null==n?void 0:n.isStaff()),o=(null==n?void 0:n.verified)||i;return{isPhoneVerificationLevel:t,isCurrentUserVerified:!!(t?i:o)}}({guildId:r}),u=a.isPhoneVerificationLevel,c=a.isCurrentUserVerified,f=i.useRef(c),d=u?te:G;return null==s?null:(0,
t.jsxs)(t.Fragment,{children:[!f.current&&(0,t.jsx)(d,{isUserVerified:c}),(0,t.jsx)(fe,{guildId:r,formFields:n,updateFormFields:o})]})}var me=n(198181),pe=n(571094),Oe=n.n(pe),Ee=n(698242),he=n.n(Ee),ve=n(483683),be=n.n(ve),ye=n(63685),ge=n.n(ye),Me=n(634737),je=n.n(Me);function _e(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function xe(e,r,n,t,i,o,s){try{var l=e[o](s),a=l.value}catch(e){n(e);return}l.done?r(a):Promise.resolve(a).then(t,i)}function Ne(e){return function(){var r=this,n=arguments;return new Promise((function(t,i){var o=e.apply(r,n);function s(e){xe(o,t,i,s,l,"next",e)}function l(e){xe(o,t,i,s,l,"throw",e)}s(void 0)}))}}function Re(e,r,n){r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n;return e}function Ae(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));t.forEach((function(r){Re(e,r,n[r])}))}return e}function Ce(e,r){r=null!=r?r:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})));n.push.apply(n,t)}return n}(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}));return e}function Te(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,i,o=[],s=!0,l=!1;try{for(n=n.call(e);!(s=(t=n.next()).done);s=!0){o.push(t.value);if(r&&o.length===r)break}}catch(e){l=!0;i=e}finally{
try{s||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,r)||we(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e){return function(e){if(Array.isArray(e))return _e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||we(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,r){if(e){if("string"==typeof e)return _e(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_e(e,r):void 0}}var Se,Pe=function(e,r){var n,t,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1]
;return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,t&&(i=2&o[0]?t.return:o[0]?t.throw||((i=t.return)&&i.call(t),0):t.next)&&!(i=i.call(t,o[1])).done)return i;(t=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:s.label++;return{value:o[1],done:!1};case 5:s.label++;t=o[1];o=[0];continue;case 7:o=s.ops.pop();s.trys.pop();continue;default:if(!(i=s.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1];i=o;break}if(i&&s.label<i[2]){s.label=i[2];s.ops.push(o);break}i[2]&&s.ops.pop();s.trys.pop();continue}o=r.call(e,s)}catch(e){o=[6,e];t=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}
;!function(e){e[e.CLAIM_ACCOUNT=0]="CLAIM_ACCOUNT";e[e.EMAIL_CONFIRMATION=1]="EMAIL_CONFIRMATION";e[e.VERIFICATION_FORM=2]="VERIFICATION_FORM"}(Se||(Se={}));var Ze=function(e){var r=e.headerId,n=e.email,i=e.password,o=e.setEmail,s=e.setPassword,l=e.emailError,u=e.passwordError;return(0,t.jsxs)("div",{className:Oe().content,children:[(0,t.jsx)("img",{alt:w.Z.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_ICON,src:he(),className:Oe().applicationIcon}),(0,t.jsx)(a.X6q,{id:r,variant:"heading-xl/semibold",className:Oe().header,children:w.Z.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_TITLE}),(0,t.jsx)(a.xvT,{variant:"text-sm/normal",color:"header-secondary",children:w.Z.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_SUBTITLE}),(0,t.jsx)("hr",{className:Oe().divider}),(0,t.jsx)(a.xJW,{title:w.Z.Messages.FORM_LABEL_EMAIL,className:Oe().formItem,children:(0,t.jsx)(a.oil,{value:n,error:l,onChange:o,autoFocus:!0})}),(0,t.jsx)(a.xJW,{title:w.Z.Messages.FORM_LABEL_PASSWORD,className:Oe().formItem,
children:(0,t.jsx)(a.oil,{type:"password",value:i,error:u,onChange:s})})]})},Le=function(e){var r=e.headerId,n=e.email;return(0,t.jsxs)("div",{className:Oe().content,children:[(0,t.jsx)("img",{alt:w.Z.Messages.MEMBER_VERIFICATION_VERIFY_EMAIL_ICON,src:je(),className:Oe().applicationIcon}),(0,t.jsx)(a.X6q,{id:r,variant:"heading-xl/semibold",className:Oe().header,children:w.Z.Messages.MEMBER_VERIFICATION_EMAIL_CONFIRMATION_TITLE.format({email:n})}),(0,t.jsx)(a.xvT,{variant:"text-sm/normal",color:"header-secondary",children:w.Z.Messages.MEMBER_VERIFICATION_EMAIL_CONFIRMATION_SUBTITLE}),(0,t.jsx)(a.zxk,{className:Oe().resendButton,size:a.zxk.Sizes.NONE,look:a.zxk.Looks.LINK,onClick:function(){return u.Z.verifyResend()},children:w.Z.Messages.MEMBER_VERIFICATION_EMAIL_RESEND})]})},Ve=function(e){var r,n=e.guildId,i=e.formState,o=e.updateFormState,s=e.isPreview,a=void 0!==s&&s,u=(0,l.e7)([j.Z],(function(){return j.Z.get(n)}));if(null==u)return null
;var c=null!==(r=null!=i?i:null==u?void 0:u.formFields)&&void 0!==r?r:[],f=a?de:Ie;return(0,t.jsx)(f,{guildId:n,formFields:c,updateFormFields:o})},ke=function(){return n.e(61029).then(n.t.bind(n,640002,19)).then((function(e){return e.default}))},Be=function(e){var r=e.headerId,n=e.guildId,i=e.formState,o=e.updateFormState,l=e.useReducedMotion,u=e.isPreview,c=void 0!==u&&u;return(0,t.jsxs)("div",{className:Oe().content,children:[(0,t.jsxs)("div",{className:Oe().animationAndSparklesContainer,children:[(0,t.jsx)("img",{alt:w.Z.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:ge(),className:s()(Oe().sparkleIcon,Oe().sparkleBottom)}),(0,t.jsx)(b.Z,{importData:ke,shouldAnimate:!l,className:Oe().animation}),(0,t.jsx)("img",{alt:w.Z.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:be(),className:s()(Oe().sparkleIcon,Oe().sparkleTop)})]}),(0,t.jsx)(a.X6q,{id:r,variant:"heading-xl/semibold",className:Oe().header,children:w.Z.Messages.MEMBER_VERIFICATION_MODAL_TITLE}),(0,t.jsx)(a.xvT,{
variant:"text-sm/normal",color:"header-secondary",className:Oe().subheader,children:w.Z.Messages.MEMBER_VERIFICATION_MODAL_SUBTITLE}),(0,t.jsx)("hr",{className:Oe().divider}),(0,t.jsx)(Ve,{guildId:n,formState:i,updateFormState:o,isPreview:c})]})};const De=function(e){var r,n=e.headerId,o=e.guildId,u=e.onClose,b=e.onComplete,C=e.inviteCode,T=e.isPreview,F=void 0!==T&&T,S=(0,R.rb)((function(e){return e.hasUnsubmittedChanges})),P=(0,l.e7)([O.Z],(function(){return O.Z.getGuild(o)})),Z=(0,l.e7)([j.Z],(function(){return j.Z.get(o)})),L=(0,l.e7)([E.default],(function(){return E.default.getCurrentUser()})),V=!(null==L?void 0:L.isClaimed()),k=null==L?void 0:L.verified,B=null==L?void 0:L.isPhoneVerified(),D=(0,l.e7)([I.Z],(function(){return I.Z.getGuildEmoji(o)})),U=(0,l.cj)([m.Z],(function(){return{storeMemberCount:m.Z.getMemberCount(o),storeOnlineCount:m.Z.getOnlineCount(o)}
})),z=U.storeMemberCount,G=U.storeOnlineCount,H=Te(i.useState(null!==(r=null==Z?void 0:Z.formFields)&&void 0!==r?r:[]),2),Y=H[0],q=H[1],J=Te(i.useState(!1),2),X=J[0],Q=J[1],W=Te(i.useState(null),2),$=W[0],K=W[1],ee=Te(i.useState(V?Se.CLAIM_ACCOUNT:Se.VERIFICATION_FORM),2),re=ee[0],ne=ee[1],te=Te(i.useState(""),2),ie=te[0],oe=te[1],se=Te(i.useState(""),2),le=se[0],ae=se[1],ue=Te(i.useState(null),2),ce=ue[0],fe=ue[1],de=Te(i.useState(null),2),Ie=de[0],pe=de[1],Ee=(0,_.e)(o),he=null==Z?void 0:Z.guild,ve=i.useMemo((function(){return null!=P?P:null!=he?new d.Z(he):null}),[P,he]),be=i.useMemo((function(){var e,r=Fe(null!==(e=0===D.length?null==he?void 0:he.emojis:D)&&void 0!==e?e:[]).reverse(),n=0,t=r.length;if(t>12&&null!=r){r=r.slice(0,11);n=Math.min(t-r.length,99)}return{emojisToRender:r,remainingEmojis:n,numGuildEmoji:t}
}),[he,D]),ye=be.emojisToRender,ge=be.remainingEmojis,Me=be.numGuildEmoji,je=null!=z?z:null==he?void 0:he.approximate_member_count,_e=null!=G?G:null==he?void 0:he.approximate_presence_count;i.useEffect((function(){(0,R.a5)(!1);return function(){(0,R.a5)(!1)}}),[]);i.useEffect((function(){M.Z.fetchVerificationForm(o,C)}),[o,C]);i.useEffect((function(){null!=Z&&q(Z.formFields)}),[Z]);i.useEffect((function(){null!=L&&L.isClaimed()&&ne(Se.VERIFICATION_FORM)}),[L]);i.useEffect((function(){re===Se.EMAIL_CONFIRMATION&&k&&ne(Se.VERIFICATION_FORM)}),[re,k]);i.useEffect((function(){null!=o&&y.default.track(A.rMx.OPEN_MODAL,{type:me.N4,guild_id:o})}),[o]);i.useEffect((function(){var e=Y.some((function(e){return e.field_type!==x.QJ.TERMS&&(0,N.OA)(e)}));e&&!S?(0,R.a5)(!0):!e&&S&&(0,R.a5)(!1)}),[Y,S]);var xe=i.useMemo((function(){return!(((null==ve?void 0:ve.verificationLevel)!==A.sFg.VERY_HIGH||(null==L?void 0:L.isStaff()))&&k||B)||Y.some((function(e){return!(0,N.OA)(e)}))}),[Y,ve,B,k,L]),we=(0,
l.e7)([f.Z],(function(){return f.Z.useReducedMotion}));if(null==ve)return null;var Ve,ke=(Ve=Ne((function(){var e,r,n;return Pe(this,(function(t){switch(t.label){case 0:Q(!0);fe(null);pe(null);t.label=1;case 1:t.trys.push([1,3,4,5]);return[4,(0,c.S2)({email:ie,password:le})];case 2:t.sent();Q(!1);ne(Se.EMAIL_CONFIRMATION);return[3,5];case 3:e=t.sent();fe(null==e||null===(r=e.body)||void 0===r?void 0:r.email);pe(null==e||null===(n=e.body)||void 0===n?void 0:n.password);return[3,5];case 4:Q(!1);return[7];case 5:return[2]}}))})),function(){return Ve.apply(this,arguments)}),De=function(){var e=Ne((function(){var e,r,n,t,i;return Pe(this,(function(s){switch(s.label){case 0:Q(!0);K(null);if(null!=(e=null!=L?p.ZP.getMember(o,L.id):null)&&!e.isPending){null==u||u(!0);return[2]}s.label=1;case 1:s.trys.push([1,3,,4]);return[4,null==b?void 0:b(Ce(Ae({},null!=Z?Z:j.t),{formFields:Y}))];case 2:s.sent();null==u||u(!0);return[3,4];case 3:r=s.sent()
;null!=(null==(i=null==r?void 0:r.body)||null===(n=i.errors)||void 0===n?void 0:n.version)||null!=(null==i||null===(t=i.errors)||void 0===t?void 0:t.form_fields)?K(w.Z.Messages.MEMBER_VERIFICATION_VERSION_MISMATCH_ERROR):K(null==i?void 0:i.message);Q(!1);return[3,4];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(h.Z,{direction:h.Z.Direction.VERTICAL,justify:h.Z.Justify.BETWEEN,className:Oe().guildSidebar,shrink:0,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(v.Z,{guild:ve,active:!0,className:s()(Oe().guildIcon,Re({},Oe().guildIconNoIcon,null==ve.icon))}),(0,t.jsx)(a.X6q,{variant:"heading-lg/semibold",className:Oe().guildName,children:null==ve?void 0:ve.name}),(0,t.jsx)(a.xvT,{className:Oe().guildDescription,variant:"text-sm/normal",color:"header-secondary",children:null==Z?void 0:Z.description}),null!=ye&&ye.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("hr",{className:Oe().divider}),(0,
t.jsx)(a.vwX,{children:w.Z.Messages.MEMBER_VERIFICATION_NUM_EMOJIS.format({emojis:Me})}),(0,t.jsxs)("div",{className:Oe().emojisContainer,children:[ye.map((function(e){var r=g.ZP.getEmojiURL({id:e.id,animated:!1,size:24});return(0,t.jsx)(a.ua7,{text:":".concat(e.name,":"),children:function(e){return(0,t.jsx)("img",Ce(Ae({},e),{width:24,height:24,src:r,className:Oe().emoji,alt:""}))}},e.id)})),null!=ge&&ge>0?(0,t.jsx)(a.X6q,{variant:"heading-deprecated-12/semibold",className:Oe().emoji,color:"header-secondary",children:"+".concat(ge)}):null]})]}):null]}),(0,t.jsxs)("div",{children:[null!=_e&&(0,t.jsxs)(h.Z,{align:h.Z.Align.CENTER,className:Oe().onlineCount,children:[(0,t.jsx)("div",{className:Oe().dotOnline}),(0,t.jsx)(a.xvT,{variant:"text-sm/normal",children:w.Z.Messages.MEMBER_VERIFICATION_NUM_ONLINE.format({membersOnline:_e})})]}),null!=je&&(0,t.jsxs)(h.Z,{align:h.Z.Align.CENTER,children:[(0,t.jsx)("div",{className:Oe().dotMembers}),(0,t.jsx)(a.xvT,{variant:"text-sm/normal",
children:w.Z.Messages.MEMBER_VERIFICATION_NUM_MEMBERS.format({members:je})})]})]})]}),(0,t.jsxs)("div",{className:Oe().modal,children:[(0,t.jsx)(a.hzk,{className:Oe().modalContent,children:(0,t.jsx)(a.qBt,{className:s()(Oe().sequencer,Re({},Oe().centerContent,re!==Se.VERIFICATION_FORM)),steps:[Se.CLAIM_ACCOUNT,Se.EMAIL_CONFIRMATION,Se.VERIFICATION_FORM],step:re,children:function(){switch(re){case Se.CLAIM_ACCOUNT:return(0,t.jsx)(Ze,{headerId:n,email:ie,password:le,setEmail:oe,setPassword:ae,emailError:ce,passwordError:Ie});case Se.EMAIL_CONFIRMATION:return(0,t.jsx)(Le,{headerId:n,email:ie});case Se.VERIFICATION_FORM:return(0,t.jsx)(Be,{headerId:n,guildId:o,formState:Y,updateFormState:q,isPreview:F,useReducedMotion:we})}}()})}),function(){switch(re){case Se.CLAIM_ACCOUNT:return(0,t.jsxs)(a.mzw,{className:Oe().footer,children:[(0,t.jsx)(a.zxk,{className:Oe().submitButton,type:"submit",submitting:X,onClick:ke,disabled:0===ie.length||0===le.length,children:w.Z.Messages.NEXT}),(0,
t.jsx)(a.xvT,{variant:"text-xs/normal",color:"header-secondary",children:w.Z.Messages.MEMBER_VERIFICATION_CLAIM_ACCOUNT_INFO})]});case Se.EMAIL_CONFIRMATION:return null;case Se.VERIFICATION_FORM:return(0,t.jsxs)(a.mzw,{className:Oe().footer,children:[(0,t.jsx)(a.zxk,{className:Oe().submitButton,type:"submit",submitting:X,onClick:De,color:a.zxk.Colors.GREEN,disabled:null==b||xe,children:w.Z.Messages.SUBMIT}),null!=$&&(0,t.jsx)(a.xvT,{variant:"text-xs/normal",color:"text-danger",children:$}),null==$&&Ee&&(0,t.jsx)(a.xvT,{color:"header-secondary",variant:"text-xs/normal",children:w.Z.Messages.MEMBER_VERIFICATION_WARNING})]})}}()]})]})}}}]);
//# sourceMappingURL=de5a9612a9006d2f0f69.js.map