"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[53556],{552480:(e,t,n)=>{n.d(t,{t:()=>u});var r=n(113609),o=n(632685),i=n(749106),u=(0,r.Xz)({id:o.Z.IN_APP_REPORTING,title:"2020-29 Exp: Report TOS violating messages in-app via new modal",description:["An experiment that tests if in-app reporting is useful for Trust & Safety","Control: No changes","Treatment 1: Add menu options to report message"],buckets:[i.N.CONTROL,i.N.TREATMENT_1]})},503213:(e,t,n)=>{n.d(t,{qR:()=>i,U5:()=>u});var r=n(292327);function o(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function i(e){var t=u();return Array.from(e.defaultActionTypes).map((function(e){return t[e]}))}function u(){var e;return o(e={},r.jj.BLOCK_MESSAGE,{type:r.jj.BLOCK_MESSAGE,metadata:{customMessage:void 0}}),o(e,r.jj.FLAG_TO_CHANNEL,{type:r.jj.FLAG_TO_CHANNEL,metadata:{channelId:void 0}}),o(e,r.jj.USER_COMMUNICATION_DISABLED,{
type:r.jj.USER_COMMUNICATION_DISABLED,metadata:{durationSeconds:60}}),o(e,r.jj.QUARANTINE_USER,{type:r.jj.QUARANTINE_USER,metadata:{}}),e}},926649:(e,t,n)=>{n.d(t,{DO:()=>p,vo:()=>d,Fn:()=>O,nC:()=>y,o8:()=>b,Jq:()=>E,ep:()=>g,km:()=>_,QO:()=>h,Vb:()=>v,YN:()=>S,ZF:()=>m,Ar:()=>j});var r=n(248046),o=n(736818),i=n(503213),u=n(201891),a=n(691385),c=n(320042),l=n(292327),s=n(473708),f=function(e,t){return"".concat(e,"-").concat(t,"-new-rule")},p=function(e){return(null==e?void 0:e.triggerType)===l.fX.KEYWORD},d=function(e){return(null==e?void 0:e.triggerType)===l.fX.ML_SPAM},O=function(e){return(null==e?void 0:e.triggerType)===l.fX.DEFAULT_KEYWORD_LIST},y=function(e){return(null==e?void 0:e.triggerType)===l.fX.MENTION_SPAM},b=function(e){return(null==e?void 0:e.triggerType)===l.fX.SERVER_POLICY},E=function(e){return(null==e?void 0:e.triggerType)===l.fX.USER_PROFILE};function g(e,t){var n=c.I6[t],r=(0,c.jp)(t,e),u={id:f(e,t),name:n.getDefaultRuleName(),guildId:e,eventType:n.eventType,
triggerType:t,triggerMetadata:r,enabled:!0,creatorId:o.default.getId(),actions:(0,i.qR)(n),position:0,exemptChannels:new Set,exemptRoles:new Set};if(v(u))throw new Error(s.Z.Messages.GUILD_AUTOMOD_NEW_RULE_ERROR);var l=(0,a.mY)(e,t);l>0&&(u.name+=" ".concat(l+1));return u}function _(e,t){if(e.length>t)throw new Error(s.Z.Messages.GUILD_AUTOMOD_KEYWORD_ERROR_TOO_MANY_KEYWORDS.format({limit:t}));e.forEach((function(e){if(e.length>l.hu||e.length<l.Vk)throw new u.V6(s.Z.Messages.GUILD_AUTOMOD_KEYWORD_ERROR_INVALID_KEYWORD_LENGTH.format({keyword:e,max:l.hu,min:l.Vk}))}))}function h(e){if(p(e)){var t,n,r=null!==(t=e.triggerMetadata.keywordFilter)&&void 0!==t?t:[],o=null!==(n=e.triggerMetadata.regexPatterns)&&void 0!==n?n:[];if(0===r.length&&0===o.length)throw new Error(s.Z.Messages.GUILD_AUTOMOD_KEYWORD_ERROR_NO_KEYWORDS_OR_REGEX);_(r,l.RH);!function(e){if(e.length>l.VW)throw new Error(s.Z.Messages.GUILD_AUTOMOD_KEYWORD_ERROR_TOO_MANY_REGEX.format({limit:l.VW}));e.forEach((function(e){
if(e.length>l.aj||e.length<l.uE)throw new u.uS(s.Z.Messages.GUILD_AUTOMOD_REGEX_ERROR_INVALID_REGEX_LENGTH.format({regex:e,max:l.aj,min:l.uE}))}))}(o)}if(0===e.actions.length)throw new Error(s.Z.Messages.GUILD_AUTOMOD_ERROR_NO_ACTIONS)}function v(e){var t;return(0,r.BH)(null!==(t=null==e?void 0:e.id)&&void 0!==t?t:"INVALID_SNOWFLAKE")}function S(e){return e===l.q4.MESSAGE_SEND?s.Z.Messages.GUILD_AUTOMOD_EVENT_TYPE_MESSAGE_SEND:s.Z.Messages.GUILD_AUTOMOD_UNKNOWN}function m(e){switch(e){case l.jj.BLOCK_MESSAGE:return s.Z.Messages.GUILD_AUTOMOD_ACTIONS_BLOCK_MESSAGE_NAME;case l.jj.FLAG_TO_CHANNEL:return s.Z.Messages.GUILD_AUTOMOD_ACTIONS_FLAG_TO_CHANNEL_NAME;default:return s.Z.Messages.GUILD_AUTOMOD_UNKNOWN}}function j(e){switch(e){case l.fX.KEYWORD:return s.Z.Messages.GUILD_AUTOMOD_KEYWORD_FILTER_NAME;case l.fX.ML_SPAM:return s.Z.Messages.GUILD_AUTOMOD_ML_SPAM_FILTER_NAME;case l.fX.DEFAULT_KEYWORD_LIST:return s.Z.Messages.GUILD_AUTOMOD_DEFAULT_KEYWORD_LIST_FILTER_NAME;default:
return s.Z.Messages.GUILD_AUTOMOD_UNKNOWN}}},691385:(e,t,n)=>{n.d(t,{mY:()=>S,I2:()=>m,RD:()=>j,pH:()=>A});var r=n(667294),o=n(38736),i=n(503528),u=n(347365),a=n(11414),c=n(502589),l=n(292327);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n,r,o,i,u){try{var a=e[i](u),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){f(i,r,o,u,a,"next",e)}function a(e){f(i,r,o,u,a,"throw",e)}u(void 0)}))}}function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){d(e,t,n[t])}))}return e}function y(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done);u=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||g(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}var _=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},h={};var v=(0,o.Z)((function(e,t){return{rules:{},fetching:!1,error:null,
updateRule:function(n){var r,o,i=n.guildId,u=n.id,a=n.triggerType,l=t().rules,s=null!==(r=l[i])&&void 0!==r?r:{},f=null!==(o=s[a])&&void 0!==o?o:[],p=f.some((function(e){return e.id===u})),b=f.filter((function(e){return!(0,c.U)(e.id)||e.triggerType!==a})),g=p?b.map((function(e){return e.id===u?n:e})):E(b).concat([n]);e({rules:y(O({},l),d({},i,y(O({},s),d({},a,g)))),error:null})},removeRule:function(n,r){var o=t().rules,i=o[r],u=Object.keys(i).reduce((function(e,t){var r,o=Number(t),u=null!==(r=i[o])&&void 0!==r?r:[];e[o]=u.filter((function(e){return e.id!==n}));return e}),i);e({rules:y(O({},o),d({},r,u)),error:null})},syncRules:(n=p((function(n){var r,o,i,c,s;return _(this,(function(f){switch(f.label){case 0:if(!function(e){var t;return Date.now()-(null!==(t=h[e])&&void 0!==t?t:0)>2e4}(n))return[2];h[n]=Date.now();f.label=1;case 1:f.trys.push([1,3,,4]);return[4,(0,a.$Y)(n)];case 2:r=f.sent();o=function(e){var t,n=(d(t={},l.fX.KEYWORD,[]),d(t,l.fX.ML_SPAM,[]),
d(t,l.fX.DEFAULT_KEYWORD_LIST,[]),d(t,l.fX.MENTION_SPAM,[]),d(t,l.fX.USER_PROFILE,[]),d(t,l.fX.SERVER_POLICY,[]),t);e.forEach((function(e){var t,r=e.triggerType;null===(t=n[r])||void 0===t||t.push(e)}));return n}(r);i=t().rules;e({rules:y(O({},i),d({},n,o)),error:null});return[3,4];case 3:c=f.sent();s=new u.Hx(c);e({error:s});return[3,4];case 4:return[2]}}))})),function(e){return n.apply(this,arguments)})};var n})),S=function(e,t){var n,r;return(null!==(r=null===(n=v.getState().rules[e])||void 0===n?void 0:n[t])&&void 0!==r?r:[]).length};function m(e){var t=b(r.useState(!1),2),n=t[0],o=t[1],u=b(v((function(e){return[e.syncRules,e.fetching]}),i.Z),2),a=u[0],c=u[1];return[n,r.useCallback(p((function(){return _(this,(function(t){switch(t.label){case 0:if(c||null==e)return[2];t.label=1;case 1:t.trys.push([1,,3,4]);o(!0);return[4,a(e)];case 2:t.sent();return[3,4];case 3:o(!1);return[7];case 4:return[2]}}))})),[e,c,a])]}function j(e){var t=b(m(e),2),n=t[0],o=t[1];r.useEffect((function(){
p((function(){return _(this,(function(e){switch(e.label){case 0:return[4,o()];case 1:e.sent();return[2]}}))}))()}),[e,o]);return[n,o]}function A(e){return v((function(t){var n;return{rulesByTriggerType:null!==(n=t.rules[null!=e?e:""])&&void 0!==n?n:{},updateRule:t.updateRule,removeRule:t.removeRule}}))}},320042:(e,t,n)=>{n.d(t,{vT:()=>r,I6:()=>p,vh:()=>s,r5:()=>O,V9:()=>y,yU:()=>b,Z6:()=>E,jp:()=>g});var r,o,i=n(667294),u=n(489684),a=n(292327),c=n(473708);function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}!function(e){e.NEW="new";e.RECOMMENDED="recommended";e.BETA="beta";e.ALPHA="alpha"}(r||(r={}));var s,f,p=(l(o={},a.fX.SPAM_LINK,{getDefaultRuleName:function(){return c.Z.Messages.GUILD_AUTOMOD_KEYWORD_FILTER_NAME},type:a.fX.SPAM_LINK,eventType:a.q4.MESSAGE_SEND,perGuildMaxCount:0,availableActionTypes:new Set,flags:new Set,defaultActionTypes:new Set}),l(o,a.fX.KEYWORD,{getDefaultRuleName:function(){
return c.Z.Messages.GUILD_AUTOMOD_KEYWORD_FILTER_NAME},type:a.fX.KEYWORD,eventType:a.q4.MESSAGE_SEND,perGuildMaxCount:6,availableActionTypes:new Set([a.jj.BLOCK_MESSAGE,a.jj.FLAG_TO_CHANNEL,a.jj.USER_COMMUNICATION_DISABLED]),flags:new Set,defaultActionTypes:new Set([a.jj.BLOCK_MESSAGE])}),l(o,a.fX.ML_SPAM,{getDefaultRuleName:function(){return c.Z.Messages.GUILD_AUTOMOD_ML_SPAM_FILTER_NAME},type:a.fX.ML_SPAM,eventType:a.q4.MESSAGE_SEND,perGuildMaxCount:1,availableActionTypes:new Set([a.jj.BLOCK_MESSAGE,a.jj.FLAG_TO_CHANNEL]),flags:new Set([]),defaultActionTypes:new Set([a.jj.BLOCK_MESSAGE])}),l(o,a.fX.DEFAULT_KEYWORD_LIST,{getDefaultRuleName:function(){return c.Z.Messages.GUILD_AUTOMOD_DEFAULT_KEYWORD_LIST_FILTER_NAME},type:a.fX.DEFAULT_KEYWORD_LIST,eventType:a.q4.MESSAGE_SEND,perGuildMaxCount:1,availableActionTypes:new Set([a.jj.BLOCK_MESSAGE,a.jj.FLAG_TO_CHANNEL]),flags:new Set([]),defaultActionTypes:new Set([a.jj.BLOCK_MESSAGE])}),l(o,a.fX.MENTION_SPAM,{getDefaultRuleName:function(){
return c.Z.Messages.GUILD_AUTOMOD_MENTION_SPAM_FILTER_NAME},type:a.fX.MENTION_SPAM,eventType:a.q4.MESSAGE_SEND,perGuildMaxCount:1,availableActionTypes:new Set([a.jj.BLOCK_MESSAGE,a.jj.FLAG_TO_CHANNEL,a.jj.USER_COMMUNICATION_DISABLED]),flags:new Set([]),defaultActionTypes:new Set([a.jj.BLOCK_MESSAGE])}),l(o,a.fX.USER_PROFILE,{getDefaultRuleName:function(){return c.Z.Messages.GUILD_AUTOMOD_USER_PROFILE_FILTER_NAME},type:a.fX.USER_PROFILE,eventType:a.q4.GUILD_MEMBER_JOIN_OR_UPDATE,perGuildMaxCount:1,availableActionTypes:new Set([a.jj.QUARANTINE_USER,a.jj.FLAG_TO_CHANNEL]),flags:new Set([r.ALPHA]),defaultActionTypes:new Set([a.jj.QUARANTINE_USER])}),l(o,a.fX.SERVER_POLICY,{getDefaultRuleName:function(){return c.Z.Messages.GUILD_AUTOMOD_SERVER_POLICY_FILTER_NAME},type:a.fX.SERVER_POLICY,eventType:a.q4.MESSAGE_SEND,perGuildMaxCount:1,availableActionTypes:new Set([a.jj.FLAG_TO_CHANNEL]),flags:new Set([r.ALPHA]),defaultActionTypes:new Set}),o);!function(e){e.MEMBERS="members"
;e.CONTENT="content"}(s||(s={}));var d=(l(f={},s.MEMBERS,[p[a.fX.USER_PROFILE]]),l(f,s.CONTENT,[p[a.fX.SERVER_POLICY],p[a.fX.MENTION_SPAM],p[a.fX.ML_SPAM],p[a.fX.DEFAULT_KEYWORD_LIST],p[a.fX.KEYWORD]]),f),O=function(e,t){return p[e].flags.has(t)};function y(e){return Array.from(p[e].availableActionTypes)}function b(e,t){var n=e.id,r=e.eventType,o=e.triggerType,i=e.actions,u=p[o];if(t.filter((function(e){return n!==e.id&&e.triggerType===o})).length>u.perGuildMaxCount)throw new Error("You have exceeded the maximum number of rules of type ".concat(o));if(i.some((function(e){return!u.availableActionTypes.has(e.type)})))throw new Error("You have provided an action that is not available for this trigger type");if(r!==u.eventType)throw new Error("You have provided an event type that is not available for this trigger type")}function E(e){var t=(0,u.mZ)(e),n=(0,u.fh)(e);return i.useMemo((function(){var e,r=(l(e={},s.MEMBERS,[]),l(e,s.CONTENT,[]),e);return Object.keys(d).reduce((function(e,r){
var o=d[r].filter((function(e){return!(e.type===a.fX.SERVER_POLICY&&!t)&&(!(e.type===a.fX.USER_PROFILE&&!n)&&e.perGuildMaxCount>0)})).map((function(e){return e.type}));e[r]=o;return e}),r)}),[t,n])}function g(e,t){var n=(0,u.H7)(t);switch(e){case a.fX.DEFAULT_KEYWORD_LIST:return{allowList:[],presets:[]};case a.fX.USER_PROFILE:case a.fX.KEYWORD:return{keywordFilter:[],regexPatterns:[],allowList:[]};case a.fX.MENTION_SPAM:return{mentionTotalLimit:a.Ic,mentionRaidProtectionEnabled:n};case a.fX.ML_SPAM:case a.fX.SERVER_POLICY:default:return}}},727974:(e,t,n)=>{n.d(t,{Ac:()=>u,Ze:()=>a,cb:()=>c,se:()=>l,kU:()=>s});var r=/[\t\n,]/g,o=/\s{2,}/g,i=/[*"']/g;function u(e){return e.split(r).map((function(e){return e.replace(o," ").trim()})).filter((function(e){return e.length>0}))}function a(e){var t=new Set(e);return Array.from(t)}function c(e){return e.sort((function(e,t){var n=e.replaceAll(i,""),r=t.replaceAll(i,"");return n.localeCompare(r)}))}function l(e){return e.join(", ")}function s(e){
return e.includes("\n")||e.includes(",")}},830001:(e,t,n)=>{n.d(t,{ze:()=>l,Nb:()=>s,LK:()=>f});var r=n(202351),o=n(567403),i=n(682776),u=n(489684),a=n(2590),c=function(e){var t=o.Z.getGuild(e);return null!=t&&((t.hasFeature(a.oNc.COMMUNITY)||(0,u.n7)(e))&&i.Z.can(a.Plq.MANAGE_GUILD,t))};function l(e){return null!=e&&c(e)}function s(e){return c(e)}function f(e){var t,n=(0,r.e7)([i.Z],(function(){return i.Z.can(a.Plq.MANAGE_GUILD,e)}),[e]);return(0,u.Ac)(null!==(t=null==e?void 0:e.id)&&void 0!==t?t:"",!1)&&n}},502589:(e,t,n)=>{n.d(t,{U:()=>o});var r=new Set(["1030554520465440818"]);function o(e){return null!=e&&r.has(e)}},355248:(e,t,n)=>{n.d(t,{w:()=>j,V:()=>A});var r=n(496486),o=n.n(r),i=n(38736),u=n(347365),a=n(72580),c=n(201891),l=n(926649),s=n(320042),f=n(11414),p=n(727974),d=n(502589),O=n(2590),y=n(473708);function b(e,t,n,r,o,i,u){try{var a=e[i](u),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,o)}function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){E(e,t,n[t])}))}return e}function _(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var h=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function v(e){if(e.code===O.evJ.INVALID_FORM_BODY){var t,n
;if(null!=(null===(t=e.errors)||void 0===t||null===(n=t.trigger_metadata)||void 0===n?void 0:n.regex_patterns))return y.Z.Messages.GUILD_AUTOMOD_REGEX_GENERIC_SAVE_ERROR}return e.getAnyErrorMessage()}var S=Object.freeze({editingRule:null,hasChanges:!1,isLoading:!1,errorMessage:null}),m=(0,i.Z)((function(e,t){return{editingRule:null,hasChanges:!1,setEditingRule:function(n){var r=t().editingRule,i=null!=n&&null!=r&&n.id===r.id,u=o().cloneDeep(n);null!=u&&(u=_(g({},u),{actions:u.actions.filter(a.lm)}));e({editingRule:u,hasChanges:i,errorMessage:null})},createNewEditingRule:function(t,n,r){var o=g({},(0,l.ep)(t,n),null!=r?r:{});e({editingRule:o,hasChanges:!1});return o},isLoading:!1,errorMessage:null,cancelEditingRule:function(){e(g({},S))},saveRule:(r=(n=function(t,n){var r,o,i,a,O,b;return h(this,(function(E){switch(E.label){case 0:if(null==t){e(g({},S));return[2,null]}try{if((0,l.DO)(t)){t.triggerMetadata.keywordFilter=(0,p.cb)((0,
p.Ze)(null!==(r=t.triggerMetadata.keywordFilter)&&void 0!==r?r:[]));t.triggerMetadata.allowList=(0,p.cb)((0,p.Ze)(null!==(o=t.triggerMetadata.allowList)&&void 0!==o?o:[]))}(0,l.Fn)(t)&&(t.triggerMetadata.allowList=(0,p.cb)((0,p.Ze)(null!==(i=t.triggerMetadata.allowList)&&void 0!==i?i:[])));(0,s.yU)(t,n);(0,l.QO)(t)}catch(t){t instanceof c.V6?e({errorMessage:y.Z.Messages.GUILD_AUTOMOD_KEYWORD_GENERIC_SAVE_ERROR,isLoading:!1}):t instanceof c.uS?e({errorMessage:y.Z.Messages.GUILD_AUTOMOD_REGEX_GENERIC_SAVE_ERROR,isLoading:!1}):e({errorMessage:t.message,isLoading:!1});return[2,null]}E.label=1;case 1:E.trys.push([1,6,,7]);e({isLoading:!0});a=null;return!(0,l.Vb)(t)||(0,d.U)(t.id)?[3,3]:[4,(0,f.Je)(t)];case 2:a=E.sent();return[3,5];case 3:return[4,(0,f.JK)(t)];case 4:a=E.sent();E.label=5;case 5:e(g({},S));return[2,a];case 6:O=E.sent();b=new u.Hx(O);e({isLoading:!1,errorMessage:v(b)});return[3,7];case 7:return[2,null]}}))},function(){var e=this,t=arguments;return new Promise((function(r,o){
var i=n.apply(e,t);function u(e){b(i,r,o,u,a,"next",e)}function a(e){b(i,r,o,u,a,"throw",e)}u(void 0)}))}),function(e,t){return r.apply(this,arguments)}),saveEditingRule:function(e){var n=t(),r=n.editingRule;return(0,n.saveRule)(r,e)}};var n,r}));function j(){return m((function(e){return{hasChanges:e.hasChanges,editingRule:e.editingRule,isLoading:e.isLoading,errorMessage:e.errorMessage,saveRule:e.saveRule,saveEditingRule:e.saveEditingRule,cancelEditingRule:e.cancelEditingRule}}))}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=m((function(e){return{hasChanges:e.hasChanges,editingRule:e.editingRule,setEditingRule:e.setEditingRule,createNewEditingRule:e.createNewEditingRule}}));null!=e&&t.setEditingRule(e);return t}},628177:(e,t,n)=>{n.d(t,{c:()=>j});var r=n(773011),o=n(61209),i=n(840922),u=n(473903),a=n(436622),c=n(785893),l=(n(667294),n(633878));function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0
}):e[t]=n;return e}function f(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function d(e){var t=e.width,n=void 0===t?24:t,r=e.height,o=void 0===r?24:r,i=e.color,u=void 0===i?"currentColor":i,a=p(e,["width","height","color"])
;return(0,c.jsxs)("svg",f(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s(e,t,n[t])}))}return e}({},(0,l.Z)(a)),{width:n,height:o,fill:"None",viewBox:"0 0 24 24",children:[(0,c.jsx)("path",{
d:"M4.25947 16.5917C3.14082 14.7059 2.74905 12.4766 3.15775 10.3224C3.56644 8.16824 4.74748 6.23734 6.47909 4.89231C8.2107 3.54728 10.3738 2.88064 12.5621 3.01758C14.7504 3.15452 16.8135 4.08562 18.3639 5.63603C19.9144 7.18644 20.8455 9.24952 20.9824 11.4379C21.1194 13.6262 20.4527 15.7893 19.1077 17.5209C17.7627 19.2525 15.8318 20.4335 13.6776 20.8422C11.5234 21.2509 9.29412 20.8592 7.40833 19.7405L7.40835 19.7405L4.29862 20.6289C4.16996 20.6657 4.03381 20.6674 3.90428 20.6338C3.77475 20.6003 3.65655 20.5327 3.56194 20.4381C3.46732 20.3434 3.39973 20.2252 3.36616 20.0957C3.3326 19.9662 3.33429 19.83 3.37105 19.7014L4.25954 16.5916L4.25947 16.5917Z",stroke:u,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,c.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",
d:"M8.30605 8.30602C7.89802 8.71404 7.89802 9.37558 8.30605 9.78361L10.5224 12L8.30606 14.2164C7.89803 14.6244 7.89803 15.2859 8.30606 15.694C8.71409 16.102 9.37563 16.102 9.78365 15.694L12 13.4776L14.2164 15.694C14.6244 16.102 15.286 16.102 15.694 15.694C16.102 15.2859 16.102 14.6244 15.694 14.2164L13.4776 12L15.694 9.78361C16.102 9.37558 16.102 8.71404 15.694 8.30602C15.286 7.89799 14.6244 7.89799 14.2164 8.30602L12 10.5224L9.78364 8.30602C9.37562 7.89799 8.71408 7.89799 8.30605 8.30602Z",fill:u})]}))}var O=n(357566),y=n(127661),b=n(292327),E=n(515222),g=n(473708),_=function(e){return e!==b.jj.QUARANTINE_USER},h=function(e){switch(e){case b.jj.BLOCK_MESSAGE:return g.Z.Messages.GUILD_AUTOMOD_ACTIONS_BLOCK_MESSAGE_NAME;case b.jj.FLAG_TO_CHANNEL:return g.Z.Messages.GUILD_AUTOMOD_ACTIONS_FLAG_TO_CHANNEL_NAME;case b.jj.USER_COMMUNICATION_DISABLED:return g.Z.Messages.GUILD_AUTOMOD_ACTIONS_DISABLE_GUILD_COMMUNICATION_FOR_USER;case b.jj.QUARANTINE_USER:
return g.Z.Messages.GUILD_AUTOMOD_ACTIONS_QUARANTINE_USER}},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.fX.KEYWORD;switch(e){case b.jj.BLOCK_MESSAGE:switch(t){case b.fX.MENTION_SPAM:return g.Z.Messages.GUILD_AUTOMOD_ACTIONS_BLOCK_MESSAGE_DESCRIPTION_MENTION_SPAM;case b.fX.ML_SPAM:return g.Z.Messages.GUILD_AUTOMOD_ACTIONS_BLOCK_MESSAGE_DESCRIPTION_ML_SPAM;default:return g.Z.Messages.GUILD_AUTOMOD_ACTIONS_BLOCK_MESSAGE_DESCRIPTION}case b.jj.FLAG_TO_CHANNEL:return g.Z.Messages.GUILD_AUTOMOD_ACTIONS_FLAG_TO_CHANNEL_DESCRIPTION;case b.jj.USER_COMMUNICATION_DISABLED:return g.Z.Messages.GUILD_AUTOMOD_ACTIONS_DISABLE_GUILD_COMMUNICATION_FOR_USER_DESCRIPTION;case b.jj.QUARANTINE_USER:return g.Z.Messages.GUILD_AUTOMOD_ACTIONS_QUARANTINE_USER_DESCRIPTION}},S=function(e,t){switch(e){case b.jj.QUARANTINE_USER:case b.jj.BLOCK_MESSAGE:return null;case b.jj.FLAG_TO_CHANNEL:var n,a=null==t||null===(n=t.metadata)||void 0===n?void 0:n.channelId;if(null==a)return null
;var c=o.Z.getChannel(a);if(null==c)return null;var l=(0,r.F6)(c,u.default,i.Z);return g.Z.Messages.GUILD_AUTOMOD_ACTIONS_FLAG_TO_CHANNEL_DISPLAY_HELPER.format({channelName:l});case b.jj.USER_COMMUNICATION_DISABLED:var s,f,p=null!==(f=null==t||null===(s=t.metadata)||void 0===s?void 0:s.durationSeconds)&&void 0!==f?f:0,d=(0,E.L9)(p);return null==d?null:g.Z.Messages.GUILD_AUTOMOD_ACTIONS_USER_DISABLE_COMMUNICATION_DISPLAY_HELPER.format({duration:d})}},m=function(e){switch(e){case b.jj.BLOCK_MESSAGE:return y.Z;case b.jj.FLAG_TO_CHANNEL:return a.Z;case b.jj.USER_COMMUNICATION_DISABLED:return O.Z;case b.jj.QUARANTINE_USER:return d}};function j(e,t,n){return function(e){switch(e){case b.jj.BLOCK_MESSAGE:case b.jj.FLAG_TO_CHANNEL:case b.jj.USER_COMMUNICATION_DISABLED:case b.jj.QUARANTINE_USER:return!0;default:return!1}}(e)?{headerText:null!==(r=h(e))&&void 0!==r?r:"",descriptionText:null!==(o=v(e,n))&&void 0!==o?o:"",helperText:null!==(i=S(e,t))&&void 0!==i?i:null,
icon:null!==(u=m(e))&&void 0!==u?u:y.Z,isEditable:_(e)}:null;var r,o,i,u}},539530:(e,t,n)=>{n.d(t,{gK:()=>p,XN:()=>d,af:()=>O});var r=n(785893),o=(n(667294),n(707961));function i(e,t,n,r,o,i,u){try{var a=e[i](u),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var u=e.apply(t,n);function a(e){i(u,r,o,a,c,"next",e)}function c(e){i(u,r,o,a,c,"throw",e)}a(void 0)}))}}function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){a(e,t,n[t])}))}return e}function l(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var s=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1
};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function f(e){return new Promise((function(t){(0,o.ZDy)((function(){return e((function(){t(!0)}),(function(e){t(!1);return e()}))}))}))}var p=function(e){return f((t=u((function(t,o){var i,u;return s(this,(function(a){switch(a.label){case 0:return[4,n.e(27134).then(n.bind(n,927134))];case 1:i=a.sent(),u=i.default;return[2,function(n){return(0,r.jsx)(u,l(c({},n),{ruleName:e,onConfirm:t,onClose:function(){return o(n.onClose)},onCancel:function(){return o(n.onClose)}}))}]}}))})),function(e,n){
return t.apply(this,arguments)}));var t},d=function(e,t){return f((o=u((function(o,i){var u,a;return s(this,(function(s){switch(s.label){case 0:return[4,n.e(93953).then(n.bind(n,393953))];case 1:u=s.sent(),a=u.default;return[2,function(n){return(0,r.jsx)(a,l(c({},n),{ruleName:e,keyword:t,onConfirm:o,onClose:function(){return i(n.onClose)},onCancel:function(){return i(n.onClose)}}))}]}}))})),function(e,t){return o.apply(this,arguments)}));var o},O=function(e){return function(t){return f((o=u((function(o,i){var u,a,f;return s(this,(function(s){switch(s.label){case 0:return[4,n.e(45313).then(n.bind(n,445313))];case 1:u=s.sent(),a=u.default;f=function(){t();o()};return[2,function(t){return(0,r.jsx)(a,l(c({ruleName:e},t),{onConfirm:f,onClose:function(){return i(t.onClose)},onCancel:function(){return i(t.onClose)}}))}]}}))})),function(e,t){return o.apply(this,arguments)}));var o}}},530607:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(202351),o=n(744564);function i(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return u(e)}function a(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var l=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments)
;return a(this,n)}}var f={};var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&c(e,t)}(n,e);var t=s(n);function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getOptions=function(e){return f[e]};r.__getLocalVars=function(){return{options:f}};return n}(r.ZP.Store);p.displayName="SendMessageOptionsStore";const d=new p(o.Z,{MESSAGE_CREATE:function(e){var t=e.message,n=e.sendMessageOptions;null!=n&&(f[t.id]=n);null!=t.nonce&&t.nonce in f&&delete f[t.nonce]}})},618738:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(225386),o=n(791707),i=n(2590);function u(e,t,n){return!t.isSystemDM()&&!(0,o.Z)(e)&&(n||t.isPrivate())&&(0,r.RG)(t)&&t.type!==i.d4z.GUILD_VOICE&&t.type!==i.d4z.GUILD_STAGE_VOICE}},92517:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(665472),o=n(698847);function i(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}function a(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r.Z.deleteMessage(e.id,t.id,!0);if(t.isCommandType())null!=t.interactionData&&i.applicationId&&(0,o.d)(t,e,i.applicationId);else{var a=t.content,c=t.tts,l=t.flags,s=t.nonce;r.Z.sendMessage(e.id,{content:a,tts:c,invalidEmojis:[],validNonShortcutEmojis:[]},void 0,u({nonce:s,flags:l},i))}}},272112:(e,t,n)=>{n.d(t,{zW:()=>T,F4:()=>I,fB:()=>P,$Z:()=>R,Hd:()=>N,B8:()=>D,rY:()=>C,Xl:()=>L,mG:()=>U,op:()=>Z,HH:()=>x,gK:()=>G,qe:()=>k,JS:()=>F,sT:()=>K});var r=n(785893),o=(n(667294),
n(707961)),i=n(933818),u=n(665472),a=n(913928),c=n(148815),l=n(703790),s=(n(424871),n(297500)),f=n(28862),p=n(367406),d=n(736818),O=n(61209),y=n(652591),b=n(176758),E=n(691797),g=n(930948),_=n(530607),h=n(847839),v=n(92517),S=n(2590);function m(e,t,n,r,o,i,u){try{var a=e[i](u),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,o)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){m(i,r,o,u,a,"next",e)}function a(e){m(i,r,o,u,a,"throw",e)}u(void 0)}))}}function A(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function M(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var w=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}
if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function T(e){var t=e.getGuildId();null!=t&&l.Z.open(t,S.pNK.OVERVIEW)}function I(e,t,n){(0,E.JG)(n.shiftKey?"".concat(t.channel_id,"-").concat(t.id):t.id)}function P(e,t){y.default.track(S.rMx.MESSAGE_LINK_COPIED,{message_id:t.id,channel:t.channel_id});(0,E.JG)((0,b.wR)(e.guild_id,e.id,t.id))}function R(e,t,n){t.state===S.yb.SEND_FAILED||n.shiftKey?u.Z.deleteMessage(e.id,t.id,t.state===S.yb.SEND_FAILED):a.Z.confirmDelete(e,t)}function N(e,t){u.Z.startEditMessage(e.id,t.id,t.content)}function D(e,t){(0,h.Z)(e.id,t.id)}function C(e,t,n){!1!==t.pinned?n.shiftKey?i.Z.unpinMessage(e,t.id):a.Z.confirmUnpin(e,t):n.shiftKey?i.Z.pinMessage(e,t.id):a.Z.confirmPin(e,t)}function L(e,t){(0,c.Z)(e.id,t.id)}function U(e,t){(0,v.Z)(e,t,void 0,_.Z.getOptions(t.id))}function Z(e,t){(0,
o.ZDy)(j((function(){var e,o;return w(this,(function(i){switch(i.label){case 0:return[4,Promise.resolve().then(n.bind(n,275865))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,M(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){A(e,t,n[t])}))}return e}({},e),{message:t}))}]}}))})))}function x(e,t,n){var r=e.isPrivate(),o=t.author.id===d.default.getId();(0,f.fE)({channel:e,message:t,shouldMention:!n.shiftKey&&!o,showMentionToggle:!r&&!o});g.S.dispatchToLastSubscribed(S.CkL.TEXTAREA_FOCUS)}function G(e,t){(0,p.R6)(e,t,"Message")}function k(e,t){var n=O.Z.getChannel(t.id);null!=n&&(0,p.ok)(n)}function F(e,t){(0,s.Ck)(t)}function K(e,t){(0,s.p3)(t.id)}},153556:(e,t,n)=>{n.r(t);n.d(t,{default:()=>Ot,useMessageMenu:()=>yt
});var r=n(785893),o=n(667294),i=n(809784),u=n(707961),a=n(971402),c=n(516217),l=n(73904),s=n(552480),f=n(112897),p=n(131461),d=n(446419),O=n(893516),y=n(480657),b=n(269083),E=n(699050),g=n(841150),_=n(691385),h=n(320042),v=n(830001),S=n(355248),m=n(628177),j=n(539530),A=n(703790),M=n(2590),w=n(292327),T=n(473708),I=n(146143),P=n.n(I);function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t,n,r,o,i,u){try{var a=e[i](u),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,o)}function D(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){D(e,t,n[t])}))}
return e}function L(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done);u=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||x(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}var G=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},k=w.fX.KEYWORD;function F(e,t){var n=h.I6[k].perGuildMaxCount,i=(0,
S.w)(),c=i.isLoading,l=i.saveRule,s=(0,S.V)().createNewEditingRule,f=U(o.useState(!1),2),p=f[0],d=f[1],O=U((0,_.I2)(t),2),y=O[0],b=O[1],E=(0,_.pH)(t),g=E.rulesByTriggerType,w=E.updateRule,I=o.useMemo((function(){var e;return null!==(e=g[k])&&void 0!==e?e:[]}),[g]),R=0===I.length,D=n>I.length&&!R;if(!o.useMemo((function(){return(0,v.ze)(t)}),[t])||null==e||0===e.length||null==t)return null;var x,F,K=e.split(" ").length,B=function(){if(null!=t){(0,a.Zy)();A.Z.open(t,M.pNK.GUILD_AUTOMOD);setTimeout((function(){s(t,k,{triggerMetadata:{keywordFilter:[e],regexPatterns:[],allowList:[]}})}),400)}},H=(F=(x=function(t){var n,r,o;return G(this,(function(i){switch(i.label){case 0:(0,a.Zy)();return[4,(0,j.XN)(t.name,e)];case 1:if(!i.sent())return[2];o=L(C({},t),{triggerMetadata:L(C({},t.triggerMetadata),{keywordFilter:Z(null!==(r=null===(n=t.triggerMetadata)||void 0===n?void 0:n.keywordFilter)&&void 0!==r?r:[]).concat([e])})});return[4,l(o,I)];case 2:i.sent();w(o);return[2]}}))},function(){
var e=this,t=arguments;return new Promise((function(n,r){var o=x.apply(e,t);function i(e){N(o,n,r,i,u,"next",e)}function u(e){N(o,n,r,i,u,"throw",e)}i(void 0)}))}),function(e){return F.apply(this,arguments)}),X=(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(u.sNh,{id:"automod-rules-loading",label:T.Z.Messages.LOADING})});y||(X=(0,r.jsxs)(r.Fragment,{children:[R&&(0,r.jsx)(u.sNh,{id:"add-first-rule",label:T.Z.Messages.GUILD_SETTINGS_ACTION_FILTER_AUTOMOD_RULE_CREATE,action:B,disabled:c}),I.map((function(e){var t=(0,h.V9)(k).reduce((function(t,n){var r=e.actions.find((function(e){var t=e.type;return n===t}));if(null==r)return t;var o=(0,m.c)(n,r);return t+=", ".concat(null==o?void 0:o.headerText)}),"");return(0,r.jsx)(u.k5B,{id:e.id,label:e.name,subtext:(0,r.jsx)(u.xvT,{color:"text-muted",className:P().actionTextHeader,variant:"text-xs/normal",children:t.slice(2)}),group:"automod-rule-selection",checked:!1,disabled:c,action:function(){return H(e)}},e.id)})),D&&(0,r.jsxs)(r.Fragment,{
children:[(0,r.jsx)(u.Clw,{}),(0,r.jsx)(u.sNh,{id:"add-another-rule",label:T.Z.Messages.GUILD_AUTOMOD_ADD_NEW_RULE,action:B,disabled:c})]})]}));return(0,r.jsx)(u.sNh,{id:"guild-automod-add-selection",label:T.Z.Messages.GUILD_AUTOMOD_ADD_SELECTION.format({keywordCount:K}),onFocus:function(){if(!p){d(!0);b()}},children:X})}var K=n(274903),B=n(294184),H=n.n(B),X=n(202351),V=n(418705),Y=n(859853),W=n(113865),q=n(589503),Q=n(38602),z=n(163082),$=n(330768),J=n(225386),ee=n(769321),te=n(682776),ne=n(473903),re=n(856450),oe=n(799944),ie=n(263725),ue=n(95891),ae=n(775173),ce=n(930948),le=n(38004),se=n(636795),fe=n(97011),pe=n(833589),de=n(254807),Oe=n(203600),ye=n(776277),be=n.n(ye);function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done);u=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){var n,i,a,c,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.O.NORMAL,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],f=o.useContext(Y.S).reducedMotion,p=(0,J.$R)(t),d=(0,
X.e7)([te.Z],(function(){return(t.isPrivate()||te.Z.can(M.Plq.ADD_REACTIONS,t))&&p}),[t,p]),O=(0,q.MZ)(t.getGuildId()),y=(0,X.e7)([pe.Z],(function(){return pe.Z.remainingBurstCurrency})),b=l===g.O.BURST,E=b&&y<1,_=ne.default.getCurrentUser(),h=(0,se.I5)(_),v=_e((0,W.c)([V.z$.BURST_REACTION_BUTTON_SPARKLE]),2),S=v[0],m=v[1];if(!ee.nc.getSetting()||!d||e.type===M.uaV.GUILD_INVITE_REMINDER)return null;var j=O.filter((function(e){return!le.ZP.isEmojiFilteredOrLocked(e,t,M.HzX.REACTION)})).slice(0,12).map((function(o,l){return(0,r.jsx)(u.sNh,{color:b?"premium-gradient":"default",id:null!==(a=null!==(i=null!==(n=o.id)&&void 0!==n?n:o.optionallyDiverseSequence)&&void 0!==i?i:o.name)&&void 0!==a?a:":".concat(o.name,":"),label:null==o.id?o.name:":".concat(o.name,":"),disabled:E,imageUrl:function(e){var t=e.isFocused;return null!=o.id?ae.ZP.getEmojiURL({id:o.id,animated:o.animated&&(!f.enabled||t),size:18}):le.ZP.getURL(null!==(c=o.optionallyDiverseSequence)&&void 0!==c?c:"")},action:function(){
(0,z.rU)(t.id,e.id,(0,$.g1)(o),void 0,{burst:b})},dontCloseOnActionIfHoldingShiftKey:!0},l)}));return(0,r.jsx)(u.sNh,{id:"add-reaction-".concat(l),icon:b&&!h?ue.Z:void 0,label:b?h||y>0?T.Z.Messages.ADD_BURST_REACTION:T.Z.Messages.GET_SUPER_REACTIONS:T.Z.Messages.ADD_REACTION,sparkle:b&&S===V.z$.BURST_REACTION_BUTTON_SPARKLE,action:function(){b&&S===V.z$.BURST_REACTION_BUTTON_SPARKLE&&m();if(E){if(h){(0,de.openOutOfBurstsModal)();return}(0,Q.openBurstReactionsUpsellModal)({analytics:{type:Oe.cd.BURST_REACTION_UPSELL,page:null!=t.getGuildId()?M.ZY5.GUILD_CHANNEL:M.ZY5.DM_CHANNEL,section:(0,$.s4)(t),object:M.qAy.REACTION_RIGHT_CLICK_MENU_UPSELL}})}else ce.S.dispatchKeyed(M.LPv.TOGGLE_REACTION_POPOUT,e.id,{emojiPicker:!b,emojiBurstPicker:b})},color:b?"premium-gradient":"default",subMenuClassName:H()(ge({},be().isBurstReactionPicker,b)),children:b&&y<1?null:(0,r.jsxs)(r.Fragment,{children:[b?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.sNh,{id:"add-burst-reaction-count",render:function(){
return(0,r.jsxs)("div",{className:be().burstCount,children:[(0,r.jsx)(oe.Z,{width:16,height:16,className:be().burstIcon}),(0,r.jsx)(u.X6q,{variant:"heading-sm/bold",color:"text-normal",children:T.Z.Messages.SUPER_REACTIONS_LEFT_WITH_PLURAL.format({count:y})})]})}}),(0,r.jsx)(u.Clw,{})]}):null,j,(0,r.jsx)(u.Clw,{}),(0,r.jsx)(u.sNh,{color:b?"premium-gradient":"default",id:"other-reactions",label:T.Z.Messages.VIEW_MORE,icon:b?ie.Z:re.Z,disabled:E,action:function(){if(b&&s){(0,fe.Z)(!0);ce.S.dispatchKeyed(M.LPv.TOGGLE_REACTION_POPOUT,e.id,{emojiPicker:!0,emojiBurstPicker:!1})}else ce.S.dispatchKeyed(M.LPv.TOGGLE_REACTION_POPOUT,e.id,{emojiPicker:!b,emojiBurstPicker:b})}})]})})}var ve=n(9506),Se=n(272112);var me=n(979498),je=n(443),Ae=n(665472),Me=n(736818),we=n(472034),Te=n(635012);var Ie=n(734777),Pe=n(880994),Re=n(75197),Ne=n(164014),De=n.n(Ne);function Ce(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Le(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ce(e,t,n[t])}))}return e}function Ue(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Ze=["slight_smile","frowning","smile","stuck_out_tongue","wink"];function xe(e){var t,n=e.emoji,o=e.isFocused,i=n.animated,a=n.src,c=n.surrogates;null==a&&null!=n.id?a=ae.ZP.getEmojiURL({id:n.id,animated:!!i,size:20
}):null==a&&(a=le.ZP.getURL(c));return(0,r.jsx)(u.ua7,{text:n.allNamesString,hideOnClick:!0,spacing:16,forceOpen:o,children:function(e){return(0,r.jsx)("div",Ue(Le({"aria-label":T.Z.Messages.ADD_REACTION_NAMED.format({emojiName:n.name}),className:H()(De().button,Ce({},De().focused,o))},e),{children:null==a||""===a.trim()?(0,r.jsx)("span",Ue(Le({className:H()("emoji","emoji-text",De().icon)},e),{children:c})):(0,r.jsx)("img",{className:De().icon,src:a,alt:""})}))}},null!==(t=n.id)&&void 0!==t?t:n.name)}function Ge(e,t){var n=(0,q.MZ)(t.guild_id).filter((function(e){var n;return!(e.useSpriteSheet&&Ze.indexOf(null!==(n=e.uniqueName)&&void 0!==n?n:"")>=0)&&!le.ZP.isEmojiPremiumLocked(e,t,M.HzX.REACTION)}));n.length>4&&(n.length=4);var o,i=ee.nc.useSetting(),a=(0,J.$R)(t),c=(0,X.e7)([te.Z],(function(){return i&&a&&(t.isPrivate()||te.Z.can(M.Plq.ADD_REACTIONS,t))}),[t,a,i]);return c&&n.length>0?(0,r.jsx)(u.kSQ,{className:De().wrapper,children:n.map((function(n,i){return(0,r.jsx)(u.sNh,{
id:"quickreact-".concat(null!==(o=n.id)&&void 0!==o?o:i),render:function(e){var t=e.isFocused;return(0,r.jsx)(xe,{emoji:n,isFocused:t})},action:function(){return function(n){(0,z.rU)(t.id,e.id,(0,$.g1)(n),void 0)}(n)},dontCloseOnActionIfHoldingShiftKey:!0},i)}))}):null}var ke=n(264542);function Fe(e,t,n,r,o,i,u){try{var a=e[i](u),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,o)}function Ke(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){Fe(i,r,o,u,a,"next",e)}function a(e){Fe(i,r,o,u,a,"throw",e)}u(void 0)}))}}function Be(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function He(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Xe=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break
}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function Ve(e){return null==e.reactions||0===e.reactions.length?null:(0,r.jsx)(u.sNh,{id:"reactions",label:T.Z.Messages.VIEW_REACTIONS,icon:ke.Z,action:function(){return(0,u.ZDy)(Ke((function(){var t,o;return Xe(this,(function(i){switch(i.label){case 0:return[4,Promise.resolve().then(n.bind(n,275865))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,He(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Be(e,t,n[t])}))}return e}({},t),{message:e}))}]}}))})))}})
}var Ye=n(105783);var We=n(861951),qe=n(156146);var Qe=n(424871),ze=n(528334),$e=n(254082);var Je=n(530607),et=n(92517);var tt=n(307648),nt=n(813216),rt=n(633878);function ot(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function it(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ut(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function at(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,u=e.color,a=void 0===u?"currentColor":u,c=e.foreground,l=ut(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",it(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ot(e,t,n[t])}))}return e}({},(0,rt.Z)(l)),{width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:c,fill:a,fillRule:"evenodd",clipRule:"evenodd",
d:"M2.99805 4.8C2.99805 3.8055 3.80445 3 4.79805 3H19.198C20.1925 3 20.998 3.8055 20.998 4.8V15.6C20.998 16.5936 20.1925 17.4 19.198 17.4H11.098L7.49805 21V17.4H4.79805C3.80445 17.4 2.99805 16.5936 2.99805 15.6V4.8ZM11.5737 5.16264C11.7336 5.00375 11.9739 4.95652 12.183 5.04208C12.3921 5.12708 12.5279 5.33098 12.5279 5.55487V14.444C12.5279 14.669 12.3921 14.8718 12.183 14.9579C11.9739 15.0435 11.7336 14.9963 11.5737 14.8374L9.1739 12.2217H7.4969C7.18945 12.2217 6.9379 11.9717 6.9379 11.6662V8.33273C6.9379 8.02772 7.18945 7.77716 7.4969 7.77716H9.1739L11.5737 5.16264ZM13.6459 7.22159V6.11044C15.8037 6.11044 17.5589 7.85549 17.5589 9.99944C17.5589 12.1445 15.8037 13.8884 13.6459 13.8884V12.7773C15.1871 12.7773 16.4409 11.5312 16.4409 9.99944C16.4409 8.46829 15.1871 7.22159 13.6459 7.22159ZM15.3229 9.99944C15.3229 9.08108 14.5705 8.33273 13.6459 8.33273V9.44387C13.9539 9.44387 14.2049 9.69332 14.2049 9.99944C14.2049 10.3056 13.9539 10.555 13.6459 10.555V11.6662C14.5705 11.6662 15.3229 10.9189 15.3229 9.99944Z"
})}))}var ct=n(890592);var lt=n(100397),st=n(722883),ft=n(431089),pt=n(178742);var dt=n(749106);function Ot(e){var t,n,r,o,u,c=e.channel,l=e.message,f=e.target,d=e.attachment,O=e.onSelect,y=e.onHeightUpdate,b=(0,p.Z)(s.t),E=f,g=f.getAttribute("data-type"),_=f.getAttribute("data-id"),h=f.getAttribute("data-name");if(null!=d)r=n=d.url;else for(;(0,i.k)(E);){(0,i.k)(E,HTMLImageElement)&&null!=E.src&&(r=E.src);if((0,i.k)(E,HTMLAnchorElement)&&null!=E.href){n=E.href;o=E.textContent}E=E.parentNode}return yt({message:l,channel:c,textSelection:null!==(u=null===(t=document.getSelection())||void 0===t?void 0:t.toString())&&void 0!==u?u:"",favoriteableType:g,favoriteableId:_,favoriteableName:h,itemHref:n,itemSrc:r,itemTextContent:o,canReport:b===dt.N.TREATMENT_1,onHeightUpdate:y,onSelect:O,onClose:a.Zy,navId:"message",ariaLabel:T.Z.Messages.MESSAGE_ACTIONS_MENU_LABEL})}function yt(e){
var t=e.message,n=e.channel,o=e.textSelection,i=e.favoriteableType,a=e.favoriteableId,s=e.favoriteableName,p=e.itemHref,_=e.itemSrc,h=e.itemTextContent,v=e.canReport,S=e.onHeightUpdate,m=e.onSelect,j=e.onClose,A=e.navId,w=e.ariaLabel,I=(0,c.Qd)(n.getGuildId()),P=I.enabled,R=I.hasTabUI,N=(0,d.Z)(o),D=(0,b.Z)(o),C=Ge(t,n),L=he(t,n),U=he(t,n,g.O.BURST,R),Z=function(e,t){var n=(0,X.e7)([Me.default],(function(){return Me.default.getId()})),o=(0,J.$R)(t),i=(0,J.Gu)(t);return(0,Te.Z)(e,n)&&o&&!i?(0,r.jsx)(u.sNh,{id:"edit",label:T.Z.Messages.EDIT_MESSAGE,action:function(){return Ae.Z.startEditMessage(t.id,e.id,e.content)},icon:we.Z}):null}(t,n),x=(0,Re.Z)(t,n),G=(0,Ie.Z)({type:i,id:a,name:s}),k=function(e,t){return e.state!==M.yb.SEND_FAILED?null:(0,r.jsx)(u.sNh,{id:"resend",label:T.Z.Messages.RESEND_MESSAGE,action:function(){return(0,et.Z)(t,e,void 0,Je.Z.getOptions(e.id))}})}(t,n),B=(0,Pe.Z)(t,n),H=Ve(t),V=function(e,t){var n=t.getGuildId()
;return null==n||e.type!==M.uaV.USER_JOIN&&e.type!==M.uaV.GUILD_INVITE_REMINDER||!te.Z.canWithPartialContext(M.Plq.MANAGE_GUILD,{guildId:n})?null:(0,r.jsx)(u.sNh,{id:"configure",label:T.Z.Messages.CONFIGURE,icon:ve.Z,action:function(){return(0,Se.zW)(t)}})}(t,n),Y=(0,me.Z)(t,n),W=function(e,t){var n=(0,J.$R)(t);return(0,X.e7)([te.Z],(function(){return te.Z.can(M.Plq.MANAGE_MESSAGES,t)&&n}),[t,n])&&null!=e.reactions&&0!==e.reactions.length?(0,r.jsx)(u.sNh,{id:"remove-reactions",label:T.Z.Messages.REMOVE_ALL_REACTIONS,action:function(n){n.shiftKey?(0,z.wX)(t.id,e.id):Ye.Z.show({title:T.Z.Messages.REMOVE_ALL_REACTIONS_CONFIRM_TITLE,body:T.Z.Messages.REMOVE_ALL_REACTIONS_CONFIRM_BODY,confirmText:T.Z.Messages.YES_TEXT,cancelText:T.Z.Messages.NO_TEXT,onConfirm:function(){(0,z.wX)(t.id,e.id)}})},color:"danger"}):null}(t,n),q=(0,je.Z)(t,n),Q=function(e){return(0,$e.a4)(e)?(0,r.jsx)(u.sNh,{id:"report",label:T.Z.Messages.REPORT_MESSAGE_MENU_OPTION,action:function(){return(0,Qe.ak)(e)},icon:ze.Z,
color:"danger"}):null}(t),$=function(e,t){var n=(0,X.e7)([nt.Z],(function(){return nt.Z.isSpeakingMessage(t.id,e.id)}),[t,e]);return""===e.content?null:(0,r.jsx)(u.sNh,{id:"tts",label:n?T.Z.Messages.STOP_SPEAKING_MESSAGE:T.Z.Messages.SPEAK_MESSAGE,icon:at,action:function(){return n?(0,tt.NB)():(0,tt.LA)(t,e)}})}(t,n),ee=(0,y.Z)(null!=p?p:_,h),ne=(0,O.Z)(_),re=(0,f.Z)(t.id,"".concat(t.channel_id,"-").concat(t.id)),oe=function(e,t){return(0,We.Ui)(t,e)?(0,r.jsx)(u.sNh,{id:"reply",label:T.Z.Messages.MESSAGE_ACTION_REPLY,icon:qe.Z,action:function(n){(0,Se.HH)(t,e,n)}}):null}(t,n),ie=function(e,t){return(0,J.NE)(t,e)?(0,r.jsx)(u.sNh,{id:"thread",label:T.Z.Messages.CREATE_THREAD,icon:ct.Z,action:function(){(0,Se.gK)(t,e)}}):null}(t,n),ue=(0,K.Z)(t,n,{hoist:!0}),ae=F(o,n.getGuildId()),ce=function(e,t){var n=lt.Z.useExperiment({},{autoTrackExposure:!1}).showTODOs,o=(0,X.e7)([st.Z],(function(){return null!=st.Z.getTODOMessages().find((function(t){return t.messageId===e.id}))}));return n?(0,
r.jsx)(u.sNh,{id:"mark-todo",label:o?T.Z.Messages.MESSAGE_TODOS_MARK_AS_DONE:T.Z.Messages.MESSAGE_TODOS_MARK_AS_TODO,icon:o?ft.Z:pt.Z,action:function(){return o?(0,Se.sT)(t,e):(0,Se.JS)(t,e)}}):null}(t,n),le=(0,E.Z)(l.yU.MESSAGE,t.id,n,void 0,S);return(0,r.jsxs)(u.v2r,{navId:A,onClose:j,"aria-label":w,onSelect:m,children:[(0,r.jsx)(u.kSQ,{children:N}),(0,r.jsx)(u.kSQ,{children:D}),(0,r.jsxs)(u.kSQ,{children:[""===o?C:null,L,P&&U,H,Z,x,G,oe,ie,le,k,B,ce,V,Y,$,ue,W,q,v&&Q]}),null!=ae&&(0,r.jsx)(u.kSQ,{children:ae}),(0,r.jsx)(u.kSQ,{children:ne}),(0,r.jsx)(u.kSQ,{children:ee}),(0,r.jsx)(u.kSQ,{children:re})]})}},274903:(e,t,n)=>{n.d(t,{Z:()=>S});var r=n(785893),o=(n(667294),n(349289)),i=n(202351),u=n(707961),a=n(721376),c=n(123398),l=n(910149),s=n(940060),f=n(433932),p=n(682776),d=n(2590),O=s.Z.combine(d.Plq.VIEW_CHANNEL,d.Plq.MANAGE_MESSAGES,d.Plq.READ_MESSAGE_HISTORY);var y=n(473708);function b(e,t,n,r,o,i,u){try{var a=e[i](u),c=a.value}catch(e){n(e);return}
a.done?t(c):Promise.resolve(c).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){b(i,r,o,u,a,"next",e)}function a(e){b(i,r,o,u,a,"throw",e)}u(void 0)}))}}function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){g(e,t,n[t])}))}return e}function h(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable
})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var v=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}
if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function S(e,t,s){var b=t.getGuildId(),g=(0,i.e7)([c.ZP],(function(){return null!==b&&c.ZP.getIsItemFeatured({guildId:b,entity:e,entityType:o.w.MESSAGE})}),[e,b]),S=(0,a.Z)(t,s);if(e.isFirstMessageInForumPost(t))return S;var m=function(e,t){var n=e.getGuildId();return!!(null!==n&&(0,f.YM)(n)&&d.TPd.GUILD_FEED_FEATURABLE_MESSAGES.has(e.type)&&(0,l.fx)(e)&&(0,l.XY)(t)&&p.Z.can(O,e))}(t,e);return m?g?(0,r.jsx)(u.sNh,{id:"guild-feed-unfeature",label:y.Z.Messages.GUILD_FEED_UNFEATURE_MESSAGE,action:function(){return null==b?null:(0,u.ZDy)(E((function(){var t;return v(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(46738)]).then(n.bind(n,846738))];case 1:t=i.sent().UnfeatureItemConfirmationModal;return[2,function(n){return(0,r.jsx)(t,h(_({},n),{
featureableItem:{guildId:b,entity:e,entityType:o.w.MESSAGE},header:y.Z.Messages.GUILD_FEED_UNFEATURED_MESSAGE_MODAL_HEADER,body:y.Z.Messages.GUILD_FEED_UNFEATURED_MESSAGE_MODAL_BODY}))}]}}))})))}}):(0,r.jsx)(u.sNh,{id:"guild-feed-feature",label:y.Z.Messages.GUILD_FEED_FEATURE_MESSAGE,children:(0,l.DE)().map((function(o){var i=o.value,a=o.timePeriod;return(0,r.jsx)(u.sNh,{id:"".concat(i),label:(0,l.Vm)(a),action:function(){return null==b?null:(0,u.ZDy)(E((function(){var o;return v(this,(function(u){switch(u.label){case 0:return[4,Promise.all([n.e(40532),n.e(46738)]).then(n.bind(n,846738))];case 1:o=u.sent().FeatureMessageConfirmationModal;return[2,function(n){return(0,r.jsx)(o,h(_({},n),{message:e,channel:t,guildId:b,expiresSeconds:i,timePeriod:a,options:s}))}]}}))})))}},i)}))}):null}},734777:(e,t,n)=>{n.d(t,{Z:()=>A})
;var r=n(785893),o=n(667294),i=n(202351),u=n(707961),a=n(91500),c=n(579581),l=n(732016),s=n(589503),f=n(840598),p=n(798826),d=n(217544),O=n(78551),y=n(513586),b=n(797815),E=n(2590),g=n(473708);function _(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_(e,t,n[t])}))}return e}function v(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var S="sticker",m="emoji";function j(e){return l.ZP.getByName(e.replace(/(^:|:$)/g,""))}function A(e){var t=e.type,n=e.id,_=e.name,A=e.isInExpressionPicker,M=void 0!==A&&A,w=(0,c.O)().location,T=o.useMemo((function(){return v(h({},w),{section:M?E.jXE.EXPRESSION_PICKER:E.jXE.CONTEXT_MENU})}),[w,M]),I=(0,d.Go)(),P=(0,i.e7)([O.Z],(function(){return t===S&&null!=n?O.Z.getStickerById(n):null})),R=null!=P&&I.includes(P.id),N=(0,i.e7)([b.Z],(function(){if(t===m){if(null!=n)return b.Z.getDisambiguatedEmojiContext().getById(n);if(null!=_){var e;return null!==(e=j(_))&&void 0!==e?e:j(l.ZP.convertSurrogateToName(_))}}})),D=(0,s.C1)(null,N);return null!=P&&t===S?(0,y.J8)(P)&&!(0,y.V9)(P)?null:R?(0,r.jsx)(u.sNh,{id:"unfavorite",action:function(){return(0,f.hW)(P.id)},label:g.Z.Messages.UNFAVORITE_ITEM}):(0,r.jsx)(u.sNh,{id:"favorite",action:function(){(0,p.cQ)({sticker:P,
location:v(h({},T),{object:E.qAy.STICKER})});(0,f.SA)(null==P?void 0:P.id)},label:g.Z.Messages.FAVORITE_ITEM}):null!=N&&t===m?D?(0,r.jsx)(u.sNh,{id:"unfavorite",action:function(){return(0,a.Xe)(N)},label:g.Z.Messages.UNFAVORITE_ITEM}):(0,r.jsx)(u.sNh,{id:"favorite",action:function(){(0,s.J1)({emoji:N,location:v(h({},T),{object:E.qAy.EMOJI})});(0,a.$K)(N)},label:g.Z.Messages.FAVORITE_ITEM}):void 0}},75197:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(785893),o=(n(667294),n(202351)),i=n(707961),u=n(933818),a=n(913928),c=n(682776),l=n(715173),s=n(618738),f=n(2590),p=n(473708);function d(e,t){var n=(0,o.e7)([c.Z],(function(){return c.Z.can(f.Plq.MANAGE_MESSAGES,t)}),[t]);return e.state===f.yb.SEND_FAILED?null:(0,s.Z)(e,t,n)?!1===e.pinned?(0,r.jsx)(i.sNh,{id:"pin",action:function(n){n.shiftKey?u.Z.pinMessage(t,e.id):a.Z.confirmPin(t,e)},label:p.Z.Messages.PIN_MESSAGE,icon:l.Z}):(0,r.jsx)(i.sNh,{id:"unpin",action:function(n){n.shiftKey?u.Z.unpinMessage(t,e.id):a.Z.confirmUnpin(t,e)},
label:p.Z.Messages.UNPIN_MESSAGE,icon:l.Z}):null}},893516:(e,t,n)=>{n.d(t,{Z:()=>w});var r=n(785893),o=(n(667294),n(707961)),i=n(105783),u=n(440922),a=n(652591),c=n(120415),l=n(22176),s=n(310126),f=n(220461),p=n(2590),d=n(473708);function O(e,t,n,r,o,i,u){try{var a=e[i](u),c=a.value}catch(e){n(e);return}a.done?t(c):Promise.resolve(c).then(r,o)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){O(i,r,o,u,a,"next",e)}function a(e){O(i,r,o,u,a,"throw",e)}u(void 0)}))}}function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){b(e,t,n[t])}))}return e}
var g=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:!1};case 5:u.label++;r=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}o[2]&&u.ops.pop();u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e];r=0}finally{n=o=0}
if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},_="https://media.discordapp.net",h="https://cdn.discordapp.com",v="".concat(_,"/stickers"),S=new Set(["jpg","jpeg","png","webp","gif","tiff","bmp"]),m=new Set(["jpg","jpeg","png"]),j=function(e){var t;return null===(t=new URL(e).pathname.split(".").pop())||void 0===t?void 0:t.toLowerCase()};function A(e){var t=j(e);return null!=t&&m.has(t)}function M(e,t){i.Z.show({title:d.Z.Messages.ERROR,body:e});l.Z.captureException(t)}function w(e){if(!c.FB||null==e||!(t=e,n=new URL(t),i=j(t),(n.origin===_||n.origin===h)&&!t.startsWith(v)&&!(0,u.zt)(t)&&null!=i&&S.has(i)))return null;var t,n,i,l,O=function(e){var t=new URL(e);return t.origin===h?e:h+t.pathname}(e),b=(l=y((function(){var e;return g(this,(function(t){switch(t.label){case 0:t.trys.push([0,2,,3]);return[4,s.default.saveImage(O)];case 1:t.sent();a.default.track(p.rMx.CONTEXT_MENU_IMAGE_SAVED,E({},(0,f.v)()));return[3,3];case 2:e=t.sent()
;a.default.track(p.rMx.CONTEXT_MENU_IMAGE_SAVE_FAILED,E({},(0,f.v)()));M(d.Z.Messages.ERROR_SAVING_IMAGE,e);return[3,3];case 3:return[2]}}))})),function(){return l.apply(this,arguments)}),m=function(){var e=y((function(){var e;return g(this,(function(t){switch(t.label){case 0:t.trys.push([0,2,,3]);return[4,s.default.copyImage(O)];case 1:t.sent();a.default.track(p.rMx.CONTEXT_MENU_IMAGE_COPIED,E({},(0,f.v)()));return[3,3];case 2:e=t.sent();M(d.Z.Messages.ERROR_COPYING_IMAGE,e);a.default.track(p.rMx.CONTEXT_MENU_IMAGE_COPY_FAILED,E({},(0,f.v)()));return[3,3];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return[s.default.canCopyImage()&&A(e)?(0,r.jsx)(o.sNh,{id:"copy-image",label:d.Z.Messages.COPY_IMAGE_MENU_ITEM,action:m},"copy-image"):null,(0,r.jsx)(o.sNh,{id:"save-image",label:d.Z.Messages.SAVE_IMAGE_MENU_ITEM,action:b},"save-image")]}},861951:(e,t,n)=>{n.d(t,{Z6:()=>p,Ui:()=>O})
;var r=n(202351),o=n(872017),i=n(791707),u=n(225386),a=n(682776),c=n(2590),l=n(488462);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done);u=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;o=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t,n){return(e.isPrivate()?!e.isSystemDM():n.can(l.Pl.SEND_MESSAGES,e)&&n.can(l.Pl.READ_MESSAGE_HISTORY,e))&&!(0,i.Z)(t)}function d(e,t,n,r,o){var i=t.hasFlag(c.iLy.EPHEMERAL),u=t.state===c.yb.SENT,a=!e.isArchivedThread()||o;return n&&u&&!i&&!r&&a}function O(e,t){var n,i=(0,u.tc)(e),c=(0,r.e7)([a.Z],(function(){return p(e,t,a.Z)})),l=f((0,o.AB)(null!==(n=e.getGuildId())&&void 0!==n?n:void 0),2)[1];return d(e,t,c,l,i)}},798826:(e,t,n)=>{n.d(t,{ev:()=>l,cQ:()=>s,n8:()=>f,m1:()=>p,Yk:()=>d,On:()=>O,Iw:()=>y});var r=n(396043),o=n(652591),i=n(514351),u=n(2590),a=n(940581),c=n(203600),l=function(e){var t=e.containerWidth,n=e.favoriteStickers,o=e.frequentlyUsedStickers,c=e.guildStickers,l=e.stickersTotal;r.ZP.trackWithMetadata(u.rMx.EXPRESSION_PICKER_OPENED,{width:t,tab:a.X1.STICKER,badged:!1,
num_expressions_favorites:n.length,num_animated_expressions_favorites:n.filter((function(e){return(0,i.aQ)(e.format_type)})).length,num_custom_expressions_favorites:n.filter((function(e){return(0,i.z)(e.type)})).length,num_standard_expressions_favorites:n.filter((function(e){return!(0,i.z)(e.type)})).length,num_expressions_frecent:o.length,num_custom_expressions_frecent:o.filter((function(e){return(0,i.z)(e.type)})).length,num_animated_expressions_frecent:o.filter((function(e){return(0,i.aQ)(e.format_type)})).length,num_standard_expressions_frecent:o.filter((function(e){return!(0,i.z)(e.type)})).length,num_current_guild_expressions:c.length,num_custom_expressions_total:l})},s=function(e){var t,n=e.sticker,o=e.location;n.type===i.n0.GUILD&&(t=n.guild_id);r.ZP.trackWithMetadata(u.rMx.EXPRESSION_FAVORITED,{location:o,expression_type:a.X1.STICKER,expression_id:n.id,expression_name:n.name,expression_guild_id:t,is_animated:(0,i.aQ)(n.format_type),is_custom:(0,i.z)(n.type)})},f=function(){
o.default.track(u.rMx.SEARCH_STARTED,{search_type:u.aib.STICKER})},p=function(e,t,n){r.ZP.trackWithMetadata(u.rMx.SEARCH_RESULT_VIEWED,{search_type:u.aib.STICKER,total_results:t,query:e,is_suggestion:n})},d=function(e,t,n){var o,a=e.sticker;a.type===i.n0.GUILD&&(o=a.guild_id);r.ZP.trackWithMetadata(u.rMx.SEARCH_RESULT_SELECTED,{load_id:a.id,search_type:u.aib.STICKER,source_object:"Sticker Picker",total_results:n,expression_guild_id:o,sticker_id:a.id,query:t})},O=function(e){var t,n=e.sticker,o=e.category;n.type===i.n0.GUILD&&(t=n.guild_id);r.ZP.trackWithMetadata(u.rMx.EXPRESSION_PICKER_EXPRESSION_SELECTED,{type:c.cd.EMOJI_PICKER_STICKER_CLICKED,expression_id:n.id,expression_name:n.name,expression_picker_section:o,expression_guild_id:t,is_animated:(0,i.aQ)(n.format_type),is_custom:(0,i.z)(n.type)})},y=function(e){null!=e&&""!==e&&r.ZP.trackWithMetadata(u.rMx.SEARCH_RESULT_EMPTY,{query:e,search_type:u.aib.STICKER,source_object:"Sticker Picker"})}},307648:(e,t,n)=>{n.d(t,{cP:()=>o,
LA:()=>i,Bo:()=>u,NB:()=>a,Ct:()=>c});var r=n(744564);function o(e,t,n,o,i){r.Z.dispatch({type:"SPEAK_TEXT",text:e,interrupt:t,maxLength:n,onStart:o,onEnd:i})}function i(e,t){r.Z.dispatch({type:"SPEAK_MESSAGE",channel:e,message:t})}function u(e,t){r.Z.dispatch({type:"SPEAKING_MESSAGE",channelId:e,messageId:t})}function a(){r.Z.dispatch({type:"STOP_SPEAKING"})}function c(e){r.Z.dispatch({type:"SET_TTS_SPEECH_RATE",speechRate:e})}},813216:(e,t,n)=>{n.d(t,{Z:()=>g});var r=n(202351),o=n(744564);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)}
;return c(e)}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){a(e,t,n[t])}))}return e}function s(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function f(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}
function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var d=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}var y={speechRate:1,currentMessage:null},b=y;var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&p(e,t)}(n,e);var t=O(n);function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype
;r.initialize=function(e){b=l({},y,null!=e?e:null)};r.isSpeakingMessage=function(e,t){var n=b.currentMessage;return null!==n&&n.channelId===e&&n.messageId===t};r.getUserAgnosticState=function(){return b};r.__getLocalVars=function(){return{initialState:y,state:b}};!function(e,t,n){t&&u(e.prototype,t);n&&u(e,n)}(n,[{key:"currentMessage",get:function(){return b.currentMessage}},{key:"speechRate",get:function(){return b.speechRate}}]);return n}(r.ZP.DeviceSettingsStore);E.displayName="TTSStore";E.persistKey="TTSStore";E.migrations=[];const g=new E(o.Z,__OVERLAY__?{}:{SPEAKING_MESSAGE:function(e){var t=e.messageId,n=e.channelId;b=s(l({},b),{currentMessage:{messageId:t,channelId:n}})},STOP_SPEAKING:function(){b=s(l({},b),{currentMessage:null})},SET_TTS_SPEECH_RATE:function(e){b=s(l({},b),{speechRate:e.speechRate})}})},264542:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0
}):e[t]=n;return e}function u(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function c(e){
var t=e.width,n=void 0===t?24:t,c=e.height,l=void 0===c?24:c,s=e.color,f=void 0===s?"currentColor":s,p=e.foreground,d=a(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",u(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(d)),{width:n,height:l,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{fill:f,className:p,fillRule:"evenodd",clipRule:"evenodd",
d:"M2 12C2 6.477 6.477 2 12 2C17.523 2 22 6.477 22 12C22 17.522 17.523 22 12 22C6.477 22 2 17.522 2 12ZM6.375 12.8713C7.41054 12.8713 8.25 12.0318 8.25 10.9963C8.25 9.96073 7.41053 9.12128 6.375 9.12128C5.33947 9.12128 4.5 9.96073 4.5 10.9963C4.5 12.0318 5.33946 12.8713 6.375 12.8713ZM19.5 10.9963C19.5 12.0318 18.6605 12.8713 17.625 12.8713C16.5895 12.8713 15.75 12.0318 15.75 10.9963C15.75 9.96073 16.5895 9.12128 17.625 9.12128C18.6605 9.12128 19.5 9.96073 19.5 10.9963ZM10.4867 14.825C10.3576 14.3236 9.8465 14.0217 9.34508 14.1508C8.84365 14.2798 8.54179 14.791 8.67085 15.2924C9.0524 16.7748 10.397 17.8712 12 17.8712C13.603 17.8712 14.9476 16.7748 15.3291 15.2924C15.4582 14.791 15.1563 14.2798 14.6549 14.1508C14.1535 14.0217 13.6424 14.3236 13.5133 14.825C13.3398 15.4991 12.7268 15.9962 12 15.9962C11.2732 15.9962 10.6602 15.4991 10.4867 14.825Z"})}))}},178742:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function u(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function c(e){
var t=e.width,n=void 0===t?16:t,c=e.height,l=void 0===c?16:c,s=e.color,f=void 0===s?"currentColor":s,p=a(e,["width","height","color"]);return(0,r.jsx)("svg",u(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:l,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M1.25 0.5H4.25C4.66475 0.5 5 0.836 5 1.25V4.25C5 4.664 4.66475 5 4.25 5H1.25C0.836 5 0.5 4.664 0.5 4.25V1.25C0.5 0.836 0.836 0.5 1.25 0.5ZM1.25 5.75H4.25C4.66475 5.75 5 6.086 5 6.5V9.5C5 9.914 4.66475 10.25 4.25 10.25H1.25C0.836 10.25 0.5 9.914 0.5 9.5V6.5C0.5 6.086 0.836 5.75 1.25 5.75ZM4.25 11H1.25C0.836 11 0.5 11.336 0.5 11.75V14.75C0.5 15.164 0.836 15.5 1.25 15.5H4.25C4.66475 15.5 5 15.164 5 14.75V11.75C5 11.336 4.66475 11 4.25 11ZM6.5 2H15.5V3.5H6.5V2ZM15.5 7.25H6.5V8.75H15.5V7.25ZM6.5 12.5H15.5V14H6.5V12.5Z",fill:f})}))}},156146:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(785893);n(667294);function o(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,u=e.color,a=void 0===u?"currentColor":u,c=e.className,l=e.foreground;return(0,r.jsx)("svg",{className:c,width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M10 8.26667V4L3 11.4667L10 18.9333V14.56C15 14.56 18.5 16.2667 21 20C20 14.6667 17 9.33333 10 8.26667Z",className:l,fill:a})})}}}]);
//# sourceMappingURL=a54d3761b27ecc597d18.js.map